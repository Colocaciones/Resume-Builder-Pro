<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;600;700&family=Lato:wght@300;400;700&family=Montserrat:wght@300;400;600;700&family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@400;700&family=Merriweather:wght@300;400;700&family=Source+Sans+Pro:wght@300;400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<!-- Scripts Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #c8102e 0%, #8b0b1f 100%);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            gap: 10px;
            flex-wrap: nowrap;
        }
        .controls .btn,
        .controls select {
           white-space: nowrap;
           flex-shrink: 0;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .btn-primary { background: #667eea; color: white; }
        .btn-add { background: #38a169; color: white; margin-top: 10px; margin-bottom: 25px; }
        .btn-remove { background: #e53e3e; color: white; }
        .btn-small { padding: 6px 12px; font-size: 12px; }
        
        select, input, textarea {
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .form-section, .preview-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #4a5568;
        }
        
        .form-group input, .form-group textarea {
            width: 100%;
        }
        
        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2d3748;
            border-bottom: 2px solid #667eea;
            padding-bottom: 5px;
        }
        
        .dynamic-section {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            background: #f9f9f9;
            position: relative;
        }
        
        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .skill-item {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .skill-item input { flex: 1; }
        .skill-item select { width: 120px; }
        
        .resume-preview {
            background: white;
            padding: 40px;
            min-height: 600px;
        }
        
       /* PLANTILLA MODERNA */
.template-modern .name {
    font-size: 32px;
    color: #2d3748;
    margin-bottom: 10px;
    font-weight: bold;
}

.template-modern .resume-header {
    border-bottom: 3px solid #667eea;
    padding-bottom: 20px;
    margin-bottom: 30px;
}

.template-modern .contact-info {
    font-size: 14px;
    color: #718096;
}

.template-modern .resume-section h3 {
    color: #2d3748;
    border-bottom: 2px solid #667eea;
    padding-bottom: 5px;
    margin-bottom: 15px;
    font-size: 18px;
}

/* PLANTILLA CREATIVA */
.template-creative .resume-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    margin: -40px -40px 30px -40px;
    text-align: center;
    border-radius: 0;
}

.template-creative .name {
    font-size: 32px;
    margin-bottom: 10px;
    font-weight: bold;
    color: white;
}

.template-creative .contact-info {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.9);
}

.template-creative .resume-section h3 {
    color: #667eea;
    border-bottom: 2px solid #667eea;
    padding-bottom: 5px;
    margin-bottom: 15px;
    font-size: 18px;
}

/* PLANTILLA MINIMALISTA */
.template-minimal .resume-header {
    text-align: center;
    margin-bottom: 40px;
    border-bottom: 1px solid #e2e8f0;
    padding-bottom: 20px;
}

.template-minimal .name {
    font-size: 28px;
    font-weight: 300;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #2d3748;
    margin-bottom: 10px;
}

.template-minimal .contact-info {
    font-size: 14px;
    color: #718096;
    font-weight: 300;
}

.template-minimal .resume-section h3 {
    color: #2d3748;
    border-bottom: 1px solid #e2e8f0;
    padding-bottom: 5px;
    margin-bottom: 15px;
    font-size: 16px;
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* PLANTILLA ELEGANTE */
.template-elegant .resume-header {
    background-color: #1a202c;
    color: white;
    padding: 30px;
    text-align: center;
    margin: -40px -40px 30px -40px;
    border-radius: 0;
}

.template-elegant .name {
    font-size: 32px;
    margin-bottom: 10px;
    font-weight: bold;
    color: white;
    font-family: 'Georgia', serif;
}

.template-elegant .contact-info {
    font-size: 14px;
    color: #cbd5e0;
    font-style: italic;
}

.template-elegant .resume-section h3 {
    color: #1a202c;
    border-bottom: 2px solid #1a202c;
    padding-bottom: 5px;
    margin-bottom: 15px;
    font-size: 18px;
    font-family: 'Georgia', serif;
}

/* PLANTILLA CLARA */
.template-clean .resume-header {
    border-bottom: 3px solid #48bb78;
    padding-bottom: 20px;
    margin-bottom: 30px;
}

.template-clean .name {
    color: #2f855a;
    font-size: 30px;
    margin-bottom: 10px;
    font-weight: bold;
}

.template-clean .contact-info {
    font-size: 14px;
    color: #68d391;
}

.template-clean .resume-section h3 {
    color: #2f855a;
    border-bottom: 2px solid #48bb78;
    padding-bottom: 5px;
    margin-bottom: 15px;
    font-size: 18px;
}

.template-clean .skill-tag {
    background: #48bb78;
    color: white;
}

/* PLANTILLA CORPORATIVA */
.template-corporate .resume-header {
    background: linear-gradient(to right, #2b6cb0, #2c5282);
    color: white;
    padding: 25px;
    margin: -40px -40px 30px -40px;
    border-radius: 0;
}

.template-corporate .name {
    font-size: 30px;
    margin-bottom: 10px;
    font-weight: bold;
    color: white;
}

.template-corporate .contact-info {
    font-size: 14px;
    color: #bee3f8;
}

.template-corporate .resume-section h3 {
    color: #2b6cb0;
    border-bottom: 2px solid #2b6cb0;
    padding-bottom: 5px;
    margin-bottom: 15px;
    font-size: 18px;
    font-weight: bold;
}

.template-corporate .skill-tag {
    background: #2b6cb0;
    color: white;
}

/* PLANTILLA PROFESIONAL */
.template-professional {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 40px;
    padding: 40px;
}

.template-professional .resume-header {
    grid-column: 1 / -1;
    border-bottom: 3px solid #2d3748;
    padding: 25px 30px 20px 30px;
    margin: -40px -40px -10px -40px;
    background: #faf9f7;
    position: relative;
}

.template-professional .name {
    font-size: 36px;
    font-weight: bold;
    color: #2d3748;
    margin-bottom: 15px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.template-professional .contact-info {
    position: static;
    right: auto;
    bottom: auto;
    text-align: left;
    font-size: 14px;
    color: #4a5568;
    margin-bottom: 0;
}

.template-professional .contact-info span {
    display: block;
    margin-bottom: 5px;
}

.template-professional .resume-summary {
    grid-column: 1 / -1;
    text-align: center;
    margin-bottom: 30px;
    padding: 20px;
    background: #f7fafc;
    border-radius: 8px;
}

.template-professional .resume-summary h3 {
    font-size: 20px;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #2d3748;
    margin-bottom: 15px;
    border: none;
}

.template-professional .left-column {
    grid-column: 1;
    border-right: 2px solid #e2e8f0;
    padding-right: 30px;
}

.template-professional .right-column {
    grid-column: 2;
    padding-left: 10px;
}

.template-professional .resume-section h3 {
    color: #2d3748;
    font-size: 18px;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 2px solid #2d3748;
    padding-bottom: 8px;
    margin-bottom: 20px;
}

.template-professional .experience-item,
.template-professional .education-item {
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e2e8f0;
}

.template-professional .job-title,
.template-professional .degree-title {
    font-weight: bold;
    color: #2d3748;
    font-size: 16px;
}

.template-professional .company-info,
.template-professional .institution-info {
    color: #718096;
    font-size: 14px;
    margin-bottom: 8px;
    font-style: italic;
}

.template-professional .skills-category h4 {
    color: #2d3748;
    font-size: 16px;
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.template-professional .skill-tag {
    background: #2d3748;
    color: white;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
    margin-bottom: 8px;
}

	/* PLANTILLA BERLIN - ESTILO RESUME.IO */
.template-berlin {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 0;
    padding: 0;
    background: white;
}

.template-berlin .resume-header {
    grid-column: 1 / -1;
    background: linear-gradient(135deg, #1e3a8a 0%, #0f172a 100%);
    color: white;
    padding: 40px;
    margin: 0;
    text-align: center;
}

.template-berlin .name {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 20px;
    color: white;
}

.template-berlin .contact-info {
    font-size: 16px;
    color: rgba(255, 255, 255, 0.95);
    display: flex;
    gap: 30px;
    justify-content: center;
    flex-wrap: wrap;
}

.template-berlin .contact-info span {
    position: relative;
    padding-left: 25px;
}

.template-berlin .contact-info span::before {
    position: absolute;
    left: 0;
    font-size: 16px;
}

.template-berlin .contact-info span:nth-child(1)::before { content: "üìß"; }
.template-berlin .contact-info span:nth-child(2)::before { content: "üì±"; }
.template-berlin .contact-info span:nth-child(3)::before { content: "üìç"; }
.template-berlin .contact-info span:nth-child(4)::before { content: "üåê"; }

.template-berlin .resume-summary {
    grid-column: 1 / -1;
    background: #f8fafc;
    padding: 30px 40px;
    margin: 0;
}

.template-berlin .resume-summary h3 {
    color: #1e40af;
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 15px;
    text-transform: uppercase;
    border-bottom: 3px solid #3b82f6;
    padding-bottom: 8px;
}

.template-berlin .left-column {
    grid-column: 1;
    background: linear-gradient(135deg, #1e3a8a 0%, #0f172a 100%);
    color: white;
    padding: 30px 30px 50px 30px;
    min-height: 100%;
}

.template-berlin .left-column .resume-section {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 50px;
    border-left: 4px solid rgba(255, 255, 255, 0.3);
}

.template-berlin .left-column .resume-section h3 {
    color: white;
    border-bottom: 2px solid rgba(255, 255, 255, 0.3);
    font-size: 18px;
    margin-bottom: 15px;
    padding-bottom: 8px;
}

.template-berlin .left-column .education-item {
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.template-berlin .left-column .degree-title {
    color: white;
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 5px;
}

.template-berlin .left-column .institution-info {
    color: rgba(255, 255, 255, 0.8);
    font-size: 13px;
}

.template-berlin .left-column .skill-tag {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
    margin-right: 8px;
    margin-bottom: 8px;
    display: inline-block;
}

.template-berlin .right-column {
    grid-column: 2;
    padding: 40px;
    background: white;
}

.template-berlin .right-column .resume-section h3 {
    color: #1e40af;
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 20px;
    text-transform: uppercase;
    border-bottom: 3px solid #3b82f6;
    padding-bottom: 8px;
}

.template-berlin .right-column .experience-item {
    margin-bottom: 20px;
    padding-left: 20px;
    border-left: 3px solid #e5e7eb;
    position: relative;
}

.template-berlin .right-column .experience-item::before {
    content: "";
    position: absolute;
    left: -8px;
    top: 5px;
    width: 13px;
    height: 13px;
    background: #3b82f6;
    border-radius: 50%;
    border: 3px solid white;
    box-shadow: 0 0 0 2px #3b82f6;
}

.template-berlin .right-column .job-title {
    font-weight: 700;
    font-size: 18px;
    color: #1f2937;
    margin-bottom: 8px;
}

.template-berlin .right-column .company-info {
    color: #6b7280;
    font-size: 14px;
    margin-bottom: 12px;
    font-weight: 500;
}

.template-berlin .right-column .job-description {
    color: #4b5563;
    line-height: 1.6;
    font-size: 14px;
}

/* PLANTILLA VIENNA - GRIS EJECUTIVO CON DETALLES DORADOS */
.template-vienna {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 0;
    padding: 0;
    background: white;
}

.template-vienna .resume-header {
    grid-column: 1 / -1;
    background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
    color: white;
    padding: 40px;
    margin: 0;
    text-align: center;
    position: relative;
}

.template-vienna .resume-header::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 4px;
    background: linear-gradient(90deg, #d69e2e, #f6e05e);
}

.template-vienna .name {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 20px;
    color: white;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.template-vienna .contact-info {
    font-size: 16px;
    color: rgba(255, 255, 255, 0.9);
    display: flex;
    gap: 25px;
    justify-content: center;
    flex-wrap: wrap;
}

.template-vienna .contact-info span {
    position: relative;
    padding-left: 28px;
    padding: 8px 8px 8px 28px;
    background: rgba(214, 158, 46, 0.2);
    border-radius: 20px;
    border: 1px solid rgba(214, 158, 46, 0.3);
}

.template-vienna .contact-info span::before {
    position: absolute;
    left: 8px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 14px;
}

.template-vienna .contact-info span:nth-child(1)::before { content: "üìß"; }
.template-vienna .contact-info span:nth-child(2)::before { content: "üì±"; }
.template-vienna .contact-info span:nth-child(3)::before { content: "üìç"; }
.template-vienna .contact-info span:nth-child(4)::before { content: "üåê"; }

.template-vienna .resume-summary {
    grid-column: 1 / -1;
    background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
    padding: 35px 40px;
    margin: 0;
    border-bottom: 1px solid #e2e8f0;
}

.template-vienna .resume-summary h3 {
    color: #2d3748;
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 18px;
    text-transform: uppercase;
    border-bottom: 3px solid #d69e2e;
    padding-bottom: 10px;
    letter-spacing: 1px;
}

.template-vienna .resume-summary p {
    color: #4a5568;
    line-height: 1.7;
    font-size: 15px;
    font-style: italic;
}

.template-vienna .left-column {
    grid-column: 1;
    background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
    color: white;
    padding: 30px 30px 60px 30px;
    min-height: 100%;
}

.template-vienna .left-column .resume-section {
    background: rgba(255, 255, 255, 0.08);
    padding: 25px;
    border-radius: 12px;
    margin-bottom: 30px;
    border: 1px solid rgba(214, 158, 46, 0.3);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.template-vienna .left-column .resume-section:last-child {
    margin-bottom: 0;
}

.template-vienna .left-column .resume-section h3 {
    color: #f6e05e;
    border-bottom: 2px solid rgba(214, 158, 46, 0.5);
    font-size: 18px;
    margin-bottom: 20px;
    padding-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 600;
}

.template-vienna .left-column .education-item {
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(214, 158, 46, 0.1);
    border-radius: 8px;
    border-left: 4px solid #d69e2e;
}

.template-vienna .left-column .degree-title {
    color: white;
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 8px;
}

.template-vienna .left-column .institution-info {
    color: rgba(255, 255, 255, 0.8);
    font-size: 14px;
    margin-bottom: 5px;
}

.template-vienna .left-column .skills-category {
    margin-bottom: 25px;
}

.template-vienna .left-column .skills-category h4 {
    color: #f6e05e;
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 15px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.template-vienna .left-column .skill-tag {
    background: linear-gradient(135deg, #d69e2e 0%, #f6e05e 100%);
    color: #2d3748;
    padding: 8px 14px;
    border-radius: 25px;
    font-size: 12px;
    font-weight: 600;
    margin-right: 8px;
    margin-bottom: 10px;
    display: inline-block;
    box-shadow: 0 2px 8px rgba(214, 158, 46, 0.3);
}

.template-vienna .right-column {
    grid-column: 2;
    padding: 40px;
    background: white;
}

.template-vienna .right-column .resume-section {
    margin-bottom: 40px;
    background: #f9f9f9;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    border-left: 5px solid #d69e2e;
}

.template-vienna .right-column .resume-section h3 {
    color: #2d3748;
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 25px;
    text-transform: uppercase;
    border-bottom: 3px solid #d69e2e;
    padding-bottom: 10px;
    letter-spacing: 1px;
}

.template-vienna .right-column .experience-item {
    margin-bottom: 25px;
    padding: 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border-left: 4px solid #4a5568;
    position: relative;
}

.template-vienna .right-column .experience-item::before {
    content: "";
    position: absolute;
    left: -10px;
    top: 25px;
    width: 16px;
    height: 16px;
    background: linear-gradient(135deg, #d69e2e, #f6e05e);
    border-radius: 50%;
    border: 3px solid white;
    box-shadow: 0 0 0 2px #4a5568;
}

.template-vienna .right-column .job-title {
    font-weight: 700;
    font-size: 18px;
    color: #2d3748;
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.template-vienna .right-column .company-info {
    color: #d69e2e;
    font-size: 14px;
    margin-bottom: 15px;
    font-weight: 600;
    text-transform: uppercase;
}

.template-vienna .right-column .job-description {
    color: #4a5568;
    line-height: 1.6;
    font-size: 14px;
}


/* PLANTILLA STOCKHOLM PRO - VERDADERO ESTILO RESUME.IO */
.template-stockholm-pro {
    display: grid;
    grid-template-columns: 220px 1fr;
    gap: 0;
    padding: 0;
    background: white;
    font-family: 'Inter', 'Lato', sans-serif;
    max-width: 210mm;
    margin: 0 auto;
}

.template-stockholm-pro .resume-header {
    grid-column: 1 / -1;
    background: white;
    padding: 50px 50px 30px 50px;
    margin: 0;
    border-bottom: none;
}

.template-stockholm-pro .name {
    font-size: 48px;
    font-weight: 900;
    color: #111827;
    margin-bottom: 15px;
    letter-spacing: -1px;
    line-height: 1;
}

.template-stockholm-pro .contact-info {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    font-size: 13px;
    color: #6B7280;
    font-weight: 500;
}

.template-stockholm-pro .contact-info span {
    position: relative;
    padding-left: 22px;
}

.template-stockholm-pro .contact-info span::before {
    position: absolute;
    left: 0;
    color: #2563eb;
    font-size: 14px;
    font-weight: 700;
}

.template-stockholm-pro .contact-info span:nth-child(1)::before { content: "‚úâ"; }
.template-stockholm-pro .contact-info span:nth-child(2)::before { content: "‚òé"; }
.template-stockholm-pro .contact-info span:nth-child(3)::before { content: "‚åñ"; }
.template-stockholm-pro .contact-info span:nth-child(4)::before { content: "‚óâ"; }

.template-stockholm-pro .resume-summary {
    grid-column: 1 / -1;
    padding: 0 50px 35px 50px;
    margin: 0;
    background: white;
    text-align: center;
}

.template-stockholm-pro .resume-summary h3 {
    font-size: 14px;
    font-weight: 700;
    color: #111827;
    text-transform: uppercase;
    letter-spacing: 1.2px;
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 3px solid #2563eb;
    display: inline-block;
    text-align: center;
}

.template-stockholm-pro .resume-summary p {
    font-size: 14px;
    line-height: 1.7;
    color: #4b5563;
    margin: 0 auto;
    max-width: 700px;
    text-align: center;
}
.template-stockholm-pro .left-column {
    grid-column: 1;
    grid-row: 3;
    background: #F9FAFB;
    padding: 0 25px 50px 25px;
    min-height: 100%;
    border-right: 1px solid #E5E7EB;
}
.template-stockholm-pro .left-column .resume-section {
    margin-bottom: 35px;
}

.template-stockholm-pro .left-column .resume-section:last-child {
    margin-bottom: 0;
}

.template-stockholm-pro .left-column .resume-section h3 {
    font-size: 13px;
    font-weight: 700;
    color: #111827;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 18px;
    padding-bottom: 8px;
    border-bottom: 2px solid #2563eb;
}

.template-stockholm-pro .left-column .education-item {
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid #E5E7EB;
}

.template-stockholm-pro .left-column .education-item:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.template-stockholm-pro .left-column .degree-title {
    font-size: 13px;
    font-weight: 700;
    color: #2563eb;
    margin-bottom: 6px;
    line-height: 1.4;
}

.template-stockholm-pro .left-column .institution-info {
    font-size: 12px;
    color: #6b7280;
    line-height: 1.5;
    margin-bottom: 0;
}

/* Skills en bullets solo para Stockholm Pro */
.template-stockholm-pro .left-column .skills-category {
    margin-bottom: 0;
}

.template-stockholm-pro .left-column .skills-category h4 {
    display: none;
}

.template-stockholm-pro .left-column .skills-list {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
    padding-left: 5px;
}

.template-stockholm-pro .left-column .skill-tag {
    background: transparent !important;
    color: #374151 !important;
    padding: 0 0 0 18px !important;
    border-radius: 0 !important;
    font-size: 12px !important;
    font-weight: 500 !important;
    display: block !important;
    text-align: left !important;
    margin: 0 0 6px 0 !important;
    border: none !important;
    box-shadow: none !important;
    position: relative !important;
    line-height: 1.5 !important;
}

.template-stockholm-pro .left-column .skill-tag::before {
    content: "‚Ä¢" !important;
    position: absolute !important;
    left: 0 !important;
    color: #2563eb !important;
    font-size: 16px !important;
    font-weight: 700 !important;
    line-height: 1 !important;
}

.template-stockholm-pro .left-column .skill-tag:hover {
    color: #2563eb !important;
    background: transparent !important;
}


.template-stockholm-pro .right-column {
    grid-column: 2;
    grid-row: 3;
    padding: 0 50px 50px 40px;
    background: white;
}
.template-stockholm-pro .right-column .resume-section {
    margin-bottom: 40px;
}

.template-stockholm-pro .right-column .resume-section:last-child {
    margin-bottom: 0;
}

.template-stockholm-pro .right-column .resume-section h3 {
    font-size: 14px;
    font-weight: 700;
    color: #111827;
    text-transform: uppercase;
    letter-spacing: 1.2px;
    margin-bottom: 25px;
    padding-bottom: 8px;
    border-bottom: 3px solid #2563eb;
}

.template-stockholm-pro .right-column .experience-item {
    margin-bottom: 30px;
    padding-bottom: 0;
    border: none;
}

.template-stockholm-pro .right-column .experience-item:last-child {
    margin-bottom: 0;
}

.template-stockholm-pro .right-column .job-title {
    font-size: 16px;
    font-weight: 700;
    color: #2563eb;
    margin-bottom: 5px;
    line-height: 1.3;
}

.template-stockholm-pro .right-column .company-info {
    font-size: 13px;
    color: #6B7280;
    font-weight: 500;
    margin-bottom: 12px;
    letter-spacing: 0.3px;
}

.template-stockholm-pro .right-column .job-description {
    font-size: 14px;
    line-height: 1.7;
    color: #4b5563;
}

/* Responsive */
@media (max-width: 1024px) {
    .template-stockholm-pro {
        grid-template-columns: 1fr;
    }
    
    .template-stockholm-pro .resume-header {
        padding: 40px 30px 25px 30px;
    }
    
    .template-stockholm-pro .name {
        font-size: 36px;
    }
    
    .template-stockholm-pro .left-column {
        padding: 30px;
        border-right: none;
        border-bottom: 2px solid #E5E7EB;
    }
    
    .template-stockholm-pro .right-column {
        padding: 30px;
    }
    
    .template-stockholm-pro .resume-summary {
        padding: 0 30px 30px 30px;
    }
}
        
        .contact-info {
            font-size: 14px;
        }
        
        .resume-section {
            margin-bottom: 25px;
        }
        
        .resume-section h3 {
            color: #2d3748;
            border-bottom: 2px solid #667eea;
            padding-bottom: 5px;
            margin-bottom: 15px;
        }
        
        .experience-item, .education-item {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .job-title, .degree-title {
            font-weight: bold;
            color: #2d3748;
        }
        
        .company-info, .institution-info {
            color: #718096;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .skills-category {
            margin-bottom: 15px;
        }
        
        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .skill-tag {
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

/* ========================================
   BULLETS PARA TODAS LAS PLANTILLAS
   ======================================== */

/* Forzar bullets en TODOS los skill-tags - AMBAS ESTRUCTURAS */
.skill-tag,
.resume-section .skill-tag,
.skills-category .skill-tag,
.left-column .skill-tag,
.right-column .skill-tag {
    background: transparent !important;
    border: none !important;
    padding: 0 0 0 18px !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    position: relative !important;
    line-height: 1.6 !important;
    display: block !important;
    margin-bottom: 8px !important;
    margin-right: 0 !important;
    text-align: left !important;
    width: auto !important;
    max-width: 100% !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    font-size: 12px !important;
    font-weight: 500 !important;
    color: #374151 !important;
}

/* Bullet universal para TODAS las estructuras */
.skill-tag::before,
.resume-section .skill-tag::before,
.skills-category .skill-tag::before,
.left-column .skill-tag::before,
.right-column .skill-tag::before {
    content: "‚Ä¢" !important;
    position: absolute !important;
    left: 0 !important;
    font-size: 16px !important;
    font-weight: 700 !important;
    line-height: 1 !important;
    top: 2px !important;
}

/* Colores por plantilla */
.template-modern .skill-tag::before { color: #667eea !important; }
.template-creative .skill-tag::before { color: #667eea !important; }
.template-minimal .skill-tag::before { color: #667eea !important; }
.template-elegant .skill-tag::before { color: #1a202c !important; }
.template-clean .skill-tag::before { color: #48bb78 !important; }
.template-corporate .skill-tag::before { color: #2b6cb0 !important; }
.template-professional .skill-tag::before { color: #2d3748 !important; }
.template-berlin .skill-tag::before { color: #3b82f6 !important; }
.template-vienna .skill-tag::before { color: #d69e2e !important; }
.template-stockholm-pro .skill-tag::before { color: #2563eb !important; }

/* Layout vertical para TODAS las listas - TODAS LAS ESTRUCTURAS */
.skills-list,
.resume-section .skills-list,
.skills-category .skills-list,
.left-column .skills-list,
.right-column .skills-list {
    display: flex !important;
    flex-direction: column !important;
    gap: 6px !important;
    align-items: flex-start !important;
    flex-wrap: nowrap !important;
}

/* Hover sutil */
.skill-tag:hover {
    background: transparent !important;
    opacity: 0.7 !important;
    border: none !important;
}
	@media (max-width: 768px) {
    	    .container { padding: 10px; }
    	    .header { padding: 20px; font-size: 14px; }
    	    .controls { 
             flex-direction: column; 
             gap: 10px; 
    	}
    	    .controls select, .controls button { 
             width: 100%; 
             margin-bottom: 5px; 
    	}
    	    .main-content { 
            grid-template-columns: 1fr; 
            gap: 20px; 
   	}
    	    .form-row { 
            grid-template-columns: 1fr; 
    	}
    	    .form-section, .preview-section { 
            padding: 15px; 
            max-height: none; 
    	}
    	    .resume-preview { 
            padding: 20px; 
            font-size: 12px; 
    	}
    	    .template-professional { 
            grid-template-columns: 1fr; 
            gap: 20px; 
    	}
    	    .template-professional .left-column { 
            border-right: none; 
            border-bottom: 1px solid #e2e8f0; 
            padding-right: 0; 
            padding-bottom: 20px; 
    	}

@media (max-width: 1024px) and (min-width: 769px) {
    .container { max-width: 100%; }
    .controls { gap: 8px; }
    .main-content { gap: 20px; }
    .template-professional { gap: 20px; }
	}

}

	.font-arial { font-family: Arial, sans-serif; }
        .font-times { font-family: 'Times New Roman', serif; }
        .font-helvetica { font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; }
        .font-georgia { font-family: Georgia, serif; }
        .font-calibri { font-family: Calibri, Arial, sans-serif; }
        .font-verdana { font-family: Verdana, Arial, sans-serif; }
        .font-tahoma { font-family: Tahoma, Arial, sans-serif; }
        .font-trebuchet { font-family: 'Trebuchet MS', Arial, sans-serif; }
	.font-roboto { font-family: 'Roboto', Arial, sans-serif; }
	.font-opensans { font-family: 'Open Sans', Arial, sans-serif; }
	.font-lato { font-family: 'Lato', Arial, sans-serif; }
	.font-montserrat { font-family: 'Montserrat', Arial, sans-serif; }
	.font-poppins { font-family: 'Poppins', Arial, sans-serif; }
	.font-playfair { font-family: 'Playfair Display', Georgia, serif; }
	.font-merriweather { font-family: 'Merriweather', Georgia, serif; }
	.font-source-sans { font-family: 'Source Sans Pro', Arial, sans-serif; }

	.font-size-12 { font-size: 12px !important; }
	.font-size-14 { font-size: 14px !important; }
	.font-size-16 { font-size: 16px !important; }
	.font-size-18 { font-size: 18px !important; }

	.font-size-12 .name { font-size: 28px !important; }
	.font-size-14 .name { font-size: 32px !important; }
	.font-size-16 .name { font-size: 36px !important; }
	.font-size-18 .name { font-size: 40px !important; }
        
.skill-selection-container {
    margin: 15px 0;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 5px;
}

.skill-checkboxes {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
    margin-top: 10px;
    max-height: 200px;
    overflow-y: auto;
    padding: 10px;
    border: 1px solid #e2e8f0;
    border-radius: 5px;
    background: white;
}

.skill-checkbox-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 5px;
}

.skill-checkbox-item input[type="checkbox"] {
    width: auto;
    margin: 0;
}

.skill-checkbox-item label {
    margin: 0;
    cursor: pointer;
    font-weight: normal;
}

.selected-skills-display {
    margin-top: 15px;
}

.selected-skills-display h5 {
    font-size: 14px;
    margin-bottom: 8px;
    color: #4a5568;
}

.custom-skill-section {
    margin-top: 20px;
    padding: 15px;
    background: #e8f4fd;
    border-radius: 5px;
    border: 1px dashed #667eea;
}

.custom-skill-input-container {
    display: flex;
    gap: 10px;
    margin-top: 8px;
    align-items: center;
}

.custom-skill-input {
    flex: 1;
    padding: 8px 12px;
    border: 2px solid #e2e8f0;
    border-radius: 5px;
    font-size: 14px;
}

.custom-skill-input:focus {
    outline: none;
    border-color: #667eea;
}

.custom-skill-item {
    background: #f0f9ff;
    border: 1px solid #bae6fd;
    border-radius: 5px;
    padding: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.custom-skill-item label {
    font-style: italic;
    color: #0369a1;
}

.custom-skill-item .btn-remove {
    width: 20px;
    height: 20px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    line-height: 1;
}

/* Estilos para la encuesta de satisfacci√≥n */
.survey-modal {
    position: fixed;
    z-index: 1001;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.6);
    display: flex;
    justify-content: center;
    align-items: center;
}

.survey-modal-content {
    background: white;
    border-radius: 15px;
    width: 90%;
    max-width: 600px;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.survey-modal-header {
    background: linear-gradient(135deg, #c8102e 0%, #8b0b1f 100%);
    color: white;
    padding: 25px;
    border-radius: 15px 15px 0 0;
    text-align: center;
}

.survey-question {
    margin-bottom: 25px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 10px;
    border-left: 4px solid #c8102e;
}

.star-rating {
    display: flex;
    gap: 5px;
    justify-content: center;
    margin: 10px 0;
}

.star {
    font-size: 30px;
    color: #ddd;
    cursor: pointer;
    transition: color 0.2s;
}

.star:hover,
.star.active {
    color: #ffd700;
}

.scale-rating {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
    margin: 15px 0;
}

.scale-option {
    padding: 10px 15px;
    border: 2px solid #e2e8f0;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.2s;
    background: white;
}

.scale-option:hover {
    border-color: #c8102e;
}

.scale-option.selected {
    background: #c8102e;
    color: white;
    border-color: #c8102e;
}

.checkbox-group {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
    margin: 15px 0;
}

.checkbox-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px;
}

.survey-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 30px;
    padding: 20px;
    border-top: 1px solid #e2e8f0;
}

.survey-buttons .btn {
    padding: 12px 25px;
    font-size: 16px;
    min-width: 120px;
}

.satisfaction-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin: 15px 0;
}

.satisfaction-option {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 15px;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    background: white;
}

.satisfaction-option:hover {
    border-color: #c8102e;
    background: #fef7f7;
}

.satisfaction-option input[type="radio"] {
    width: auto;
    margin: 0;
}

.satisfaction-option input[type="radio"]:checked + span {
    font-weight: 600;
    color: #c8102e;
}

.satisfaction-option:has(input[type="radio"]:checked) {
    border-color: #c8102e;
    background: #fef7f7;
}

/* Modal de Carta de Presentaci√≥n Profesional */
.professional-letter-modal {
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    display: none;
    justify-content: center;
    align-items: center;
}

.professional-letter-content {
    background: white;
    border-radius: 15px;
    width: 95%;
    max-width: 1200px;
    height: 90vh;
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 20px;
    overflow: hidden;
}

.letter-form-section {
    padding: 20px;
    overflow-y: auto;
    border-right: 1px solid #e2e8f0;
}

.letter-preview-section {
    padding: 20px;
    overflow-y: auto;
    background: #f9f9f9;
}

.letter-header {
    background: linear-gradient(135deg, #c8102e 0%, #8b0b1f 100%);
    color: white;
    padding: 20px;
    text-align: center;
    grid-column: 1 / -1;
    margin: 0;
}

.letter-preview-content {
    background: white;
    padding: 40px;
    font-family: 'Times New Roman', serif;
    font-size: 12pt;
    line-height: 1.6;
    color: #000;
    min-height: 800px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.letter-buttons {
    grid-column: 1 / -1;
    display: flex;
    gap: 10px;
    justify-content: center;
    padding: 15px;
    border-top: 1px solid #e2e8f0;
    background: white;
}

@media (max-width: 1000px) {
    .professional-letter-content {
        grid-template-columns: 1fr;
        height: 95vh;
    }
    
    .letter-form-section {
        border-right: none;
        border-bottom: 1px solid #e2e8f0;
    }
}

/* Estilos para el modal de salir */
.email-modal {
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
}

.email-modal-content {
    background: white;
    border-radius: 10px;
    width: 90%;
    max-width: 500px;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

.email-modal-header {
    padding: 20px;
    border-bottom: 1px solid #e2e8f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: white;
    border-radius: 10px 10px 0 0;
}

.email-modal-header h3 {
    margin: 0;
    color: #2d3748;
}

.email-modal-body {
    padding: 20px;
    background: white;
    border-radius: 0 0 10px 10px;
}

.email-modal-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 20px;
}

}

/* Estilos del Men√∫ Hamburguesa */
.menu-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1001;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    padding: 10px 15px;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    font-size: 14px;
    font-weight: 500;
    color: #4a5568;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.menu-toggle:hover {
    background: #f7fafc;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.hamburger-icon {
    font-size: 16px;
    line-height: 1;
}

.sidebar-menu {
    position: fixed;
    top: 0;
    left: -300px;
    width: 280px;
    height: 100vh;
    background: white;
    box-shadow: 2px 0 12px rgba(0,0,0,0.1);
    z-index: 1000;
    transition: left 0.3s ease;
    overflow-y: auto;
}

.sidebar-menu.open {
    left: 0;
}

.sidebar-header {
    padding: 25px 20px;
    border-bottom: 1px solid #e2e8f0;
    background: #f8fafc;
}

.sidebar-header h3 {
    margin: 0;
    font-size: 18px;
    color: #2d3748;
    font-weight: 600;
}

.menu-items {
    padding: 20px 0;
}

.menu-item {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    color: #4a5568;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    background: none;
    width: 100%;
    text-align: left;
    font-size: 14px;
}

.menu-item:hover {
    background: #f7fafc;
    color: #2d3748;
}

.menu-item-icon {
    margin-right: 12px;
    font-size: 16px;
    width: 20px;
    text-align: center;
}

.menu-divider {
    height: 1px;
    background: #e2e8f0;
    margin: 10px 20px;
}

.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.3);
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.menu-overlay.show {
    opacity: 1;
    visibility: visible;
}

    </style>
</head>
<body>
    <div class="container">
<!-- Bot√≥n del Men√∫ Hamburguesa -->
<div class="menu-toggle" onclick="toggleMenu()" id="menu-toggle">
    <span class="hamburger-icon">‚ò∞</span>
    <span id="menu-text">MEN√ö</span>
</div>

<!-- Overlay del Men√∫ -->
<div class="menu-overlay" id="menu-overlay" onclick="closeMenu()"></div>

<!-- Men√∫ Lateral -->
<div class="sidebar-menu" id="sidebar-menu">
    <div class="sidebar-header">
        <h3 id="sidebar-title">Opciones</h3>
    </div>
    <div class="menu-items">
        <button class="menu-item" onclick="exportToPDF(); closeMenu()">
            <span class="menu-item-icon">üìÑ</span>
            <span id="menu-export-pdf">Exportar PDF</span>
        </button>
        
        <button class="menu-item" onclick="exportToWord(); closeMenu()">
            <span class="menu-item-icon">üìÑ</span>
            <span id="menu-export-word">Exportar Word</span>
        </button>
        
        <div class="menu-divider"></div>
        
        <button class="menu-item" onclick="openProfessionalCoverLetter(); closeMenu()">
            <span class="menu-item-icon">üìù</span>
            <span id="menu-cover-letter">Crear Carta de Presentaci√≥n</span>
        </button>
        
        <button class="menu-item" onclick="saveToUAGMPortal(); closeMenu()">
            <span class="menu-item-icon">üíæ</span>
            <span id="menu-save-portal">Guardar en Portal UAGM</span>
        </button>
        
        <div class="menu-divider"></div>
        
        <button class="menu-item" onclick="clearAll(); closeMenu()">
            <span class="menu-item-icon">üîÑ</span>
            <span id="menu-reset">Reiniciar</span>
        </button>
        
        <button class="menu-item" onclick="openExitModal(); closeMenu()">
            <span class="menu-item-icon">üö™</span>
            <span id="menu-exit">Salir</span>
        </button>
    </div>
</div>
       <div class="header" style="position: relative; padding-left: 150px;">
    <img src="logo blanco.png" alt="logo blanco" style="position: absolute; height: 150px; left: 40px; top: 50%; transform: translateY(-50%);">
    <p style="font-size: 22px; margin-bottom: 2px;">Universidad Ana G. M√©ndez</p>
    <p style="font-size: 20px; margin-bottom: 5px;">Oficina de Carreras y Colocaciones Recinto de Cupey</p>
    <h1 id="app-title">UAGM Resume Builder Pro</h1>
    <p id="app-subtitle">Crea tu resum√© profesional en minutos</p>
    <p style="position: absolute; bottom: 10px; right: 20px; font-size: 11px; opacity: 0.7; margin: 0;">Desarrollado por: Braulio Gonz√°lez V√©lez | @ 2025</p>
</div>

        <div class="controls">
            <select id="language-select">
                <option value="es">Espa√±ol</option>
                <option value="en">English</option>
            </select>
            <select id="template-select">
    <option value="modern">Moderno</option>
    <option value="creative">Creativo</option>
    <option value="minimal">Minimalista</option>
    <option value="elegant">Elegante</option>
    <option value="clean">Clara</option>
    <option value="corporate">Corporativa</option>
    <option value="professional">Profesional</option>
    <option value="berlin">Berlin</option>
    <option value="vienna">Vienna</option>
    <option value="stockholm-pro">Stockholm Pro</option>
</select>

	    <select id="font-select">
    		<option value="arial">Arial</option>
   		<option value="times">Times New Roman</option>
    		<option value="helvetica">Helvetica</option>
    		<option value="georgia">Georgia</option>
    		<option value="calibri">Calibri</option>
    		<option value="verdana">Verdana</option>
    		<option value="tahoma">Tahoma</option>
    		<option value="trebuchet">Trebuchet MS</option>
		<option value="roboto">Roboto</option>
    		<option value="opensans">Open Sans</option>
   		<option value="lato">Lato</option>
    		<option value="montserrat">Montserrat</option>
    		<option value="poppins">Poppins</option>
    		<option value="playfair">Playfair Display</option>
    		<option value="merriweather">Merriweather</option>
    		<option value="source-sans">Source Sans Pro</option>
	    </select>

	    <select id="font-size-select">
    	        <option value="12">Peque√±o (12px)</option>
                <option value="14" selected>Normal (14px)</option>
                <option value="16">Grande (16px)</option>
                <option value="18">Extra Grande (18px)</option>
            </select>

            
        </div>

        <div class="main-content">
            <div class="form-section">
                <h2 class="section-title" id="personal-info-title">Informaci√≥n Personal</h2>
                <div class="form-group">
                    <label id="name-label">Nombre Completo</label>
                    <input type="text" id="name" placeholder="Juan P√©rez" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label id="email-label">Correo Electr√≥nico</label>
                    <input type="email" id="email" placeholder="juan.perez@email.com" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label id="phone-label">Tel√©fono</label>
                    <input type="tel" id="phone" placeholder="(787) 123-4567" oninput="formatPhoneNumber(this)" maxlength="14">
                </div>
                <div class="form-group">
                    <label id="location-label">Ubicaci√≥n</label>
                    <input type="text" id="location" placeholder="Ciudad, Pa√≠s" oninput="updatePreview()">
                </div>

                <h2 class="section-title" id="summary-title">Perfil Profesional</h2>
                <div class="form-group">
                    <textarea id="summary" placeholder="Profesional comprometido, proactivo y orientado a resultados, con habilidades en comunicaci√≥n, trabajo en equipo y resoluci√≥n de problemas. Capacidad para adaptarse a distintos 		    entornos laborales, aprender r√°pidamente y cumplir con metas establecidas." oninput="updatePreview()"></textarea>
                </div>

                <h2 class="section-title" id="experience-title">Experiencia Laboral</h2>
                <div id="experience-container"></div>
                <button class="btn btn-add btn-small" onclick="addExperience()" id="add-experience-btn">+ Agregar Experiencia</button>

                <h2 class="section-title" id="education-title">Educaci√≥n (mas reciente o en proceso)</h2>
                <div id="education-container"></div>
                <button class="btn btn-add btn-small" onclick="addEducation()" id="add-education-btn">+ Agregar Educaci√≥n</button>

                <h2 class="section-title" id="skills-title">Habilidades</h2>
                <div id="skills-container"></div>
                <button class="btn btn-add btn-small" onclick="addSkillCategory(); this.style.display='none';" id="add-skill-btn">+ Agregar Categor√≠a</button>

		<h2 class="section-title" id="certifications-title">Certificaciones y Adiestramientos</h2>
		<div id="certifications-container"></div>
		<button class="btn btn-add btn-small" onclick="addCertification()" id="add-certification-btn">+ Agregar Certificaci√≥n</button>

		<h2 class="section-title" id="volunteer-title">Experiencia de Voluntariado e Internados</h2>
		<div id="volunteer-container"></div>
		<button class="btn btn-add btn-small" onclick="addVolunteer()" id="add-volunteer-btn">+ Agregar Voluntariado</button>
                <h2 class="section-title" id="achievements-title">Logros Destacados</h2>
                <div id="achievements-container"></div>
                <button class="btn btn-add btn-small" onclick="addAchievement()" id="add-achievement-btn">+ Agregar Logro</button>

            </div>

            <div class="preview-section">
                <h2 class="section-title" id="preview-title">Vista Previa</h2>
                <div id="resume-preview" class="resume-preview template-modern font-arial font-size-14">
    <div class="resume-header">
        <h1 class="name" id="preview-name">Tu Nombre</h1>
        <div class="contact-info">
            <span id="preview-email">email@ejemplo.com</span>
            <span id="preview-phone">+1 234 567 8900</span>
            <span id="preview-location">Ciudad, Pa√≠s</span>
        </div>
    </div>
    
    <div class="resume-summary resume-section">
        <h3 id="preview-summary-title">Perfil Profesional</h3>
        <p id="preview-summary">Profesional comprometido, proactivo y orientado a resultados, con habilidades en comunicaci√≥n, trabajo en equipo y resoluci√≥n de problemas. Capacidad para adaptarse a distintos entornos laborales, aprender r√°pidamente y cumplir con metas establecidas.</p>
    </div>

    <div class="left-column">
        <div class="resume-section">
            <h3 id="preview-education-title">Educaci√≥n</h3>
            <div id="preview-education">Tu educaci√≥n aparecer√° aqu√≠...</div>
        </div>

        <div class="resume-section">
            <h3 id="preview-skills-title">Habilidades</h3>
            <div id="preview-skills">Tus habilidades aparecer√°n aqu√≠...</div>
        </div>
    </div>

    <div class="right-column">
    	<div class="resume-section">
            <h3 id="preview-experience-title">Experiencia Laboral</h3>
            <div id="preview-experience">Tu experiencia laboral aparecer√° aqu√≠...</div>
    </div>
    
    	<div class="resume-section">
             <h3 id="preview-certifications-title">Certificaciones</h3>
             <div id="preview-certifications">Tus certificaciones aparecer√°n aqu√≠...</div>
    </div>
    
    	<div class="resume-section">
             <h3 id="preview-volunteer-title">Voluntariado</h3>
             <div id="preview-volunteer">Tu experiencia de voluntariado aparecer√° aqu√≠...</div>
    	</div>
        <div class="resume-section">
             <h3 id="preview-achievements-title">Logros Destacados</h3>
             <div id="preview-achievements">Tus logros destacados aparecer√°n aqu√≠...</div>
        </div>
    </div>
</div>

<script>
// Configuraci√≥n Firebase (NUEVO)
const firebaseConfig = {
    apiKey: "AIzaSyBFgSuKNJMUoVcKgHjsqOsInArSPBsb32A",
    authDomain: "uagm-portal-de-empleo-17aed.firebaseapp.com",
    projectId: "uagm-portal-de-empleo-17aed",
    storageBucket: "uagm-portal-de-empleo-17aed.firebasestorage.app",
    messagingSenderId: "582147767835",
    appId: "1:582147767835:web:546ab8f2557b6da6ccc2be"
};

// Variables globales Firebase (NUEVO)
let app, db, storage;
let isFirebaseInitialized = false;

function initializeFirebase() {
    try {
        app = firebase.initializeApp(firebaseConfig);
        db = firebase.firestore();
        storage = firebase.storage();
        console.log('Firebase inicializado en Resume Builder');
        return true;
    } catch (error) {
        console.error('Error inicializando Firebase:', error);
        return false;
    }
}

let currentLang = 'es';

// Diccionario de correcci√≥n de acentos
const accentCorrections = {
    'administracion': 'administraci√≥n',
    'comunicacion': 'comunicaci√≥n',
    'organizacion': 'organizaci√≥n',
    'gestion': 'gesti√≥n',
    'atencion': 'atenci√≥n',
    'negociacion': 'negociaci√≥n',
    'solucion': 'soluci√≥n',
    'resolucion': 'resoluci√≥n',
    'informacion': 'informaci√≥n',
    'educacion': 'educaci√≥n',
    'capacitacion': 'capacitaci√≥n',
    'coordinacion': 'coordinaci√≥n',
    'planificacion': 'planificaci√≥n',
    'supervision': 'supervisi√≥n',
    'direccion': 'direcci√≥n',
    'operacion': 'operaci√≥n',
    'evaluacion': 'evaluaci√≥n',
    'implementacion': 'implementaci√≥n',
    'optimizacion': 'optimizaci√≥n',
    'profesional': 'profesional',
    'tecnico': 't√©cnico',
    'practico': 'pr√°ctico',
    'estrategico': 'estrat√©gico',
    'logico': 'l√≥gico',
    'dinamico': 'din√°mico',
    'sistematico': 'sistem√°tico',
    'metodico': 'met√≥dico',
    'analitico': 'anal√≠tico',
    'critico': 'cr√≠tico'
};
let expCount = 0;
let eduCount = 0;
let skillCount = 0;
let certCount = 0;
let volunteerCount = 0;
let achievementCount = 0;

// Funci√≥n para corregir acentos autom√°ticamente
function correctAccents(text) {
    if (currentLang !== 'es') return text;
    
    let correctedText = text;
    
    // Corregir cada palabra del diccionario
    for (const [wrong, correct] of Object.entries(accentCorrections)) {
        const regex = new RegExp('\\b' + wrong + '\\b', 'gi');
        correctedText = correctedText.replace(regex, correct);
    }
    
    return correctedText;
}

// Funci√≥n para aplicar correcci√≥n en tiempo real
function applyAccentCorrection(event) {
    if (currentLang !== 'es') return;
    
    const element = event.target;
    const cursorPosition = element.selectionStart;
    const originalText = element.value;
    const correctedText = correctAccents(originalText);
    
    if (originalText !== correctedText) {
        element.value = correctedText;
        // Mantener posici√≥n del cursor
        element.setSelectionRange(cursorPosition, cursorPosition);
        updatePreview();
    }
}

const predefinedSkills = {
    es: {
        technical: [
            'Microsoft Office',
            'Excel',
            'PowerPoint',
            'Word',
            'Photoshop',
            'Adobe Creative Suite',
            'AutoCAD',
            'SAP',
            'QuickBooks',
            'SQL',
            'Python',
            'JavaScript',
            'HTML/CSS',
            'Redes Sociales',
            'Marketing Digital',
            'An√°lisis de Datos',
            'Contabilidad',
            'Administraci√≥n',
            'Ventas',
            'Atenci√≥n al Cliente'
        ],
        soft: [
            'Trabajo en Equipo',
            'Liderazgo',
            'Comunicaci√≥n Efectiva',
            'Resoluci√≥n de Problemas',
            'Pensamiento Cr√≠tico',
            'Creatividad',
            'Adaptabilidad',
            'Organizaci√≥n',
            'Gesti√≥n del Tiempo',
            'Negociaci√≥n',
            'Servicio al Cliente',
            'Multitarea',
            'Toma de Decisiones',
            'Planificaci√≥n',
            'Iniciativa',
            'Responsabilidad',
            'Puntualidad',
            'Flexibilidad',
            'Paciencia',
            'Empat√≠a'
        ]
    },
    en: {
        technical: [
            'Microsoft Office',
            'Excel',
            'PowerPoint',
            'Word',
            'Photoshop',
            'Adobe Creative Suite',
            'AutoCAD',
            'SAP',
            'QuickBooks',
            'SQL',
            'Python',
            'JavaScript',
            'HTML/CSS',
            'Social Media',
            'Digital Marketing',
            'Data Analysis',
            'Accounting',
            'Administration',
            'Sales',
            'Customer Service'
        ],
        soft: [
            'Teamwork',
            'Leadership',
            'Effective Communication',
            'Problem Solving',
            'Critical Thinking',
            'Creativity',
            'Adaptability',
            'Organization',
            'Time Management',
            'Negotiation',
            'Customer Service',
            'Multitasking',
            'Decision Making',
            'Planning',
            'Initiative',
            'Responsibility',
            'Punctuality',
            'Flexibility',
            'Patience',
            'Empathy'
        ]
    }
};

const texts = {
    es: {
        appTitle: "Resume Builder Pro",
        appSubtitle: "Crea tu resum√© profesional en minutos",
        personalInfoTitle: "Informaci√≥n Personal",
        nameLabel: "Nombre Completo",
        emailLabel: "Correo Electr√≥nico",
        phoneLabel: "Tel√©fono",
        locationLabel: "Ubicaci√≥n",
        summaryTitle: "Perfil Profesional",
        experienceTitle: "Experiencia Laboral",
        educationTitle: "Educaci√≥n (mas reciente o en proceso)",
        skillsTitle: "Habilidades",
	certificationsTitle: "Certificaciones y Adiestramientos",
	volunteerTitle: "Voluntariado e Internados",
achievementsTitle: "Logros Destacados",
    addAchievement: "+ Agregar Logro",
    achievementTitle: "T√≠tulo del Logro",
    achievementRole: "Puesto o Rol Relacionado",
    achievementCompany: "Empresa / Instituci√≥n",
    achievementDate: "Fecha (A√±o)",
    achievementDescription: "Descripci√≥n Breve del Logro",
    achievementResults: "Resultados (n√∫meros, cantidad, tiempo)",
    achievementSkill: "Habilidad Demostrada",
        previewTitle: "Vista Previa",
        addExperience: "+ Agregar Experiencia",
        addEducation: "+ Agregar Educaci√≥n",
        addSkill: "+ Agregar Habilidades",
	addCertification: "+ Agregar Certificaci√≥n",
	addVolunteer: "+ Agregar Experiencia",
	volunteerRole: "Rol/Posici√≥n",
	certificationName: "Certificaci√≥n/Curso",
	organization: "Organizaci√≥n",
	date: "Fecha",
	volunteerRole: "Rol/Posici√≥n",
	volunteerOrg: "Organizaci√≥n",
	volunteerDuration: "Duraci√≥n",
	volunteerDescription: "Descripci√≥n de actividades",
        position: "Posici√≥n/Cargo",
        company: "Empresa",
        startDate: "Fecha Inicio",
        endDate: "Fecha Fin",
        current: "Trabajo Actual",
        tasks: "Tareas y Responsabilidades",
        degree: "T√≠tulo/Grado",
        institution: "Instituci√≥n",
concentration: "Concentraci√≥n",
        year: "A√±o",
        description: "Descripci√≥n",
        skillCategory: "Categor√≠a",
        skillName: "Habilidad",
        skillLevel: "Nivel",
        remove: "Eliminar",
        addSkillBtn: "+ Agregar Habilidad",
        levels: {
            beginner: "Principiante",
            intermediate: "Intermedio",
            advanced: "Avanzado",
            expert: "Experto"
        },
        templates: {
            modern: "Moderno",
            creative: "Creativo",
            minimal: "Minimalista",
            elegant: "Elegante",
            clean: "Clara",
            corporate: "Corporativa",
	    professional: "Profesional",
	    berlin: "Berlin", 
            vienna: "Vienna",
            stockholmPro: "Stockholm Pro"
        }
    },
    en: {
        appTitle: "Resume Builder Pro",
        appSubtitle: "Create your professional resume in minutes",
        personalInfoTitle: "Personal Information",
        nameLabel: "Full Name",
        emailLabel: "Email",
        phoneLabel: "Phone",
        locationLabel: "Location",
        summaryTitle: "Professional Summary",
        experienceTitle: "Work Experience",
        educationTitle: "Education (most recent first or in progress)",
        skillsTitle: "Skills",
	certificationsTitle: "Certifications & Training",
	volunteerTitle: "Volunteer & Internships",
achievementsTitle: "Key Achievements",
    addAchievement: "+ Add Achievement",
    achievementTitle: "Achievement Title",
    achievementRole: "Related Position or Role",
    achievementCompany: "Company / Institution",
    achievementDate: "Date (Year)",
    achievementDescription: "Brief Description of Achievement",
    achievementResults: "Results (numbers, quantity, time)",
    achievementSkill: "Demonstrated Skill",
        previewTitle: "Preview",
        addExperience: "+ Add Experience",
        addEducation: "+ Add Education",
        addSkill: "+ Add Skills",
	addCertification: "+ Add Certification",
	addVolunteer: "+ Add Experience",
	certificationName: "Certification/Course",
	organization: "Organization",
	date: "Date",
	volunteerRole: "Role/Position",
	volunteerOrg: "Organization",
	volunteerDuration: "Duration",
	volunteerDescription: "Activity Description",
        position: "Position/Title",
        company: "Company",
        startDate: "Start Date",
        endDate: "End Date",
        current: "Current Job",
        tasks: "Tasks and Responsibilities",
        degree: "Degree/Title",
        institution: "Institution",
concentration: "Concentration",
        year: "Year",
        description: "Description",
        skillCategory: "Category",
        skillName: "Skill",
        skillLevel: "Level",
        remove: "Remove",
        addSkillBtn: "+ Add Skill",
        levels: {
            beginner: "Beginner",
            intermediate: "Intermediate",
            advanced: "Advanced",
            expert: "Expert"
        },
        templates: {
            modern: "Modern",
            creative: "Creative",
            minimal: "Minimal",
            elegant: "Elegant",
            clean: "Clean",
            corporate: "Corporate",
	    professional: "Profesional",
	    berlin: "Berlin",
            vienna: "Vienna",
            stockholmPro: "Stockholm Pro"
        }
    }
};

// Inicializar cuando se carga la p√°gina
window.addEventListener('load', function() {
    isFirebaseInitialized = initializeFirebase();
    setupEvents();
    updatePreview();
});

function setupEvents() {
    // Cambio de idioma
    document.getElementById('language-select').onchange = function() {
        currentLang = this.value;
        updateLanguage();
        updateTemplateOptions();
        updatePreview();
    };

    // Cambio de plantilla
    document.getElementById('template-select').onchange = function() {
    document.getElementById('resume-preview').className = 'resume-preview template-' + this.value + ' ' + getCurrentFontClass() + ' ' + getCurrentFontSizeClass();
};

    // NUEVO: Cambio de fuente
    document.getElementById('font-select').onchange = function() {
        updateFontClass();
    };

    // Cambio de tama√±o de fuente
    document.getElementById('font-size-select').onchange = function() {
        updateFontSize();
    };

// Activar correcci√≥n de acentos en todos los campos de texto
    document.addEventListener('input', function(event) {
        if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') {
            applyAccentCorrection(event);
        }
    });

}

// NUEVA FUNCI√ìN: Obtener clase de fuente actual
function getCurrentFontClass() {
    const fontSelect = document.getElementById('font-select');
    return 'font-' + fontSelect.value;
}

// NUEVA FUNCI√ìN: Actualizar clase de fuente
function updateFontClass() {
    const previewElement = document.getElementById('resume-preview');
    const templateSelect = document.getElementById('template-select');
    const fontClass = getCurrentFontClass();
    const fontSizeClass = getCurrentFontSizeClass();
    
    // Mantener la clase de plantilla, fuente y tama√±o
    previewElement.className = 'resume-preview template-' + templateSelect.value + ' ' + fontClass + ' ' + fontSizeClass;
}

// Funci√≥n para obtener clase de tama√±o actual
function getCurrentFontSizeClass() {
    const fontSizeSelect = document.getElementById('font-size-select');
    return 'font-size-' + fontSizeSelect.value;
}

// Funci√≥n para actualizar tama√±o de fuente
function updateFontSize() {
    const previewElement = document.getElementById('resume-preview');
    const templateSelect = document.getElementById('template-select');
    const fontClass = getCurrentFontClass();
    const fontSizeClass = getCurrentFontSizeClass();
    
    // Mantener la clase de plantilla, fuente y a√±adir tama√±o
    previewElement.className = 'resume-preview template-' + templateSelect.value + ' ' + fontClass + ' ' + fontSizeClass;
}

function updateLanguage() {
    const t = texts[currentLang];
    
    document.getElementById('app-title').textContent = 'UAGM ' + t.appTitle;
    document.getElementById('app-subtitle').textContent = t.appSubtitle;
    document.getElementById('personal-info-title').textContent = t.personalInfoTitle;
    document.getElementById('name-label').textContent = t.nameLabel;
    document.getElementById('email-label').textContent = t.emailLabel;
    document.getElementById('phone-label').textContent = t.phoneLabel;
    document.getElementById('location-label').textContent = t.locationLabel;
    document.getElementById('summary-title').textContent = t.summaryTitle;
    document.getElementById('experience-title').textContent = t.experienceTitle;
    document.getElementById('education-title').textContent = t.educationTitle;
    document.getElementById('skills-title').textContent = t.skillsTitle;
    document.getElementById('preview-title').textContent = t.previewTitle;
    document.getElementById('add-experience-btn').textContent = t.addExperience;
    document.getElementById('add-education-btn').textContent = t.addEducation;
    document.getElementById('add-skill-btn').textContent = t.addSkill;
    document.getElementById('certifications-title').textContent = t.certificationsTitle;
    document.getElementById('volunteer-title').textContent = t.volunteerTitle;
    document.getElementById('add-certification-btn').textContent = t.addCertification;
    document.getElementById('add-volunteer-btn').textContent = t.addVolunteer;
document.getElementById('achievements-title').textContent = t.achievementsTitle;
document.getElementById('add-achievement-btn').textContent = t.addAchievement;
    

    document.getElementById('preview-summary-title').textContent = t.summaryTitle;
    document.getElementById('preview-experience-title').textContent = t.experienceTitle;
    document.getElementById('preview-education-title').textContent = t.educationTitle;
    document.getElementById('preview-skills-title').textContent = t.skillsTitle;
    document.getElementById('preview-certifications-title').textContent = t.certificationsTitle;
    document.getElementById('preview-volunteer-title').textContent = t.volunteerTitle;
document.getElementById('preview-achievements-title').textContent = t.achievementsTitle;

// Actualizar placeholder del tel√©fono seg√∫n idioma
    document.getElementById('phone').placeholder = currentLang === 'es' ? '(787) 123-4567' : '(787) 123-4567';

// Actualizar textos del men√∫ (con verificaci√≥n)
const menuText = document.getElementById('menu-text');
if (menuText) menuText.textContent = currentLang === 'es' ? 'MEN√ö' : 'MENU';

const sidebarTitle = document.getElementById('sidebar-title');
if (sidebarTitle) sidebarTitle.textContent = currentLang === 'es' ? 'Opciones' : 'Options';

const menuExportPdf = document.getElementById('menu-export-pdf');
if (menuExportPdf) menuExportPdf.textContent = currentLang === 'es' ? 'Exportar PDF' : 'Export PDF';

const menuExportWord = document.getElementById('menu-export-word');
if (menuExportWord) menuExportWord.textContent = currentLang === 'es' ? 'Exportar Word' : 'Export Word';

const menuCoverLetter = document.getElementById('menu-cover-letter');
if (menuCoverLetter) menuCoverLetter.textContent = currentLang === 'es' ? 'Crear Carta de Presentaci√≥n' : 'Create Cover Letter';

const menuSavePortal = document.getElementById('menu-save-portal');
if (menuSavePortal) menuSavePortal.textContent = currentLang === 'es' ? 'Guardar en Portal UAGM' : 'Save to UAGM Portal';

const menuReset = document.getElementById('menu-reset');
if (menuReset) menuReset.textContent = currentLang === 'es' ? 'Reiniciar' : 'Reset';

const menuExit = document.getElementById('menu-exit');
if (menuExit) menuExit.textContent = currentLang === 'es' ? 'Salir' : 'Exit';
    document.getElementById('summary').placeholder = 
    currentLang === 'es'
    ? "Profesional comprometido, proactivo y orientado a resultados, con habilidades en comunicaci√≥n, trabajo en equipo y resoluci√≥n de problemas. Capacidad para adaptarse a distintos entornos laborales, aprender r√°pidamente y cumplir con metas establecidas."
    : "Committed, proactive, and results-oriented professional with strong communication, teamwork, and problem-solving skills. Able to adapt to different work environments, learn quickly, and meet established goals.";
}

function updateTemplateOptions() {
    const select = document.getElementById('template-select');
    const current = select.value;
    const t = texts[currentLang].templates;
    
    select.innerHTML = `
        <option value="modern">${t.modern}</option>
        <option value="creative">${t.creative}</option>
        <option value="minimal">${t.minimal}</option>
        <option value="elegant">${t.elegant}</option>
        <option value="clean">${t.clean}</option>
        <option value="corporate">${t.corporate}</option>
	<option value="professional">${t.professional}</option>
	<option value="berlin">${t.berlin}</option>
        <option value="vienna">${t.vienna}</option>
        <option value="stockholm-pro">${t.stockholmPro}</option>
    `;
    select.value = current;
}

function addExperience() {
    const container = document.getElementById('experience-container');
    const t = texts[currentLang];
    const id = expCount++;
    
    const html = `
        <div class="dynamic-section" id="exp-${id}">
            <button class="btn btn-remove btn-small remove-btn" onclick="removeItem('exp-${id}')">
                ${t.remove}
            </button>
            <h4>${t.experienceTitle} ${id + 1}</h4>
            
            <div class="form-row">
                <div class="form-group">
                    <label>${t.position}</label>
                    <input type="text" class="exp-position" placeholder="Desarrollador Senior" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>${t.company}</label>
                    <input type="text" class="exp-company" placeholder="Empresa XYZ" oninput="updatePreview()">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>${t.startDate}</label>
                    <input type="text" class="exp-start" placeholder="2020" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>${t.endDate}</label>
                    <input type="text" class="exp-end" id="exp-end-${id}" placeholder="Presente" oninput="updatePreview()">
                </div>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" class="exp-current" id="exp-current-${id}" onchange="toggleCurrentJob(${id})">
                    ${t.current}
                </label>
            </div>
            
            <div class="form-group">
                <label>${t.tasks}</label>
                <textarea class="exp-tasks" placeholder="‚Ä¢ Desarrollo de aplicaciones web" oninput="updatePreview()"></textarea>
            </div>
        </div>
    `;
    
    container.insertAdjacentHTML('beforeend', html);
    updatePreview();
}

function toggleCurrentJob(expId) {
    const checkbox = document.getElementById(`exp-current-${expId}`);
    const endDateInput = document.getElementById(`exp-end-${expId}`);
    
    if (checkbox.checked) {
        endDateInput.value = currentLang === 'es' ? 'Presente' : 'Present';
        endDateInput.disabled = true;
        endDateInput.style.backgroundColor = '#f5f5f5';
        endDateInput.style.color = '#666';
    } else {
        endDateInput.value = '';
        endDateInput.disabled = false;
        endDateInput.style.backgroundColor = '';
        endDateInput.style.color = '';
    }
    
// Activar correcci√≥n en nuevos campos
    const newSection = document.getElementById(`exp-${id}`);
    newSection.querySelectorAll('input, textarea').forEach(field => {
        field.addEventListener('input', applyAccentCorrection);
    });

    updatePreview();
}

function addEducation() {
    const container = document.getElementById('education-container');
    const t = texts[currentLang];
    const id = eduCount++;
    
    const html = `
        <div class="dynamic-section" id="edu-${id}">
            <button class="btn btn-remove btn-small remove-btn" onclick="removeItem('edu-${id}')">
                ${t.remove}
            </button>
            <h4>${t.educationTitle} ${id + 1}</h4>
            
            <div class="form-row">
                <div class="form-group">
                    <label>${t.degree}</label>
                    <input type="text" class="edu-degree" placeholder="Bachillerato, Maestr√≠a, Doctorado" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>${t.institution}</label>
                    <input type="text" class="edu-institution" placeholder="Universidad Ana G. M√©ndez" oninput="updatePreview()">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>${t.concentration || 'Concentraci√≥n'}</label>
                    <input type="text" class="edu-concentration" placeholder="Sistemas de Informaci√≥n" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>${t.year}</label>
                    <input type="text" class="edu-year" placeholder="2015-2019" oninput="updatePreview()">
                </div>
            </div>
            
            <div class="form-group">
                <label>${t.description}</label>
                <textarea class="edu-description" placeholder="Descripci√≥n adicional..." oninput="updatePreview()"></textarea>
            </div>
        </div>
    `;
    
    container.insertAdjacentHTML('beforeend', html);
    
    // Activar correcci√≥n en nuevos campos
    const newSection = document.getElementById(`edu-${id}`);
    newSection.querySelectorAll('input, textarea').forEach(field => {
        field.addEventListener('input', applyAccentCorrection);
    });
    
    updatePreview();
}
function addSkillCategory() {
    const container = document.getElementById('skills-container');
    const t = texts[currentLang];
    
    // Prevenir que se creen m√∫ltiples secciones
    if (skillCount > 0) return;
    
    const id = skillCount++;
    
    const html = `
        <div class="dynamic-section" id="skill-cat-${id}">
            <h4>${currentLang === 'es' ? 'Habilidades Profesionales' : 'Professional Skills'}</h4>
            
            <!-- HABILIDADES T√âCNICAS -->
            <div class="skill-selection-container" style="margin-bottom: 30px;">
                <label style="font-weight: bold; font-size: 16px; color: #2d3748; margin-bottom: 10px; display: block;">
                    ${currentLang === 'es' ? 'üîß Habilidades T√©cnicas' : 'üîß Technical Skills'}
                </label>
                <div class="skill-checkboxes" id="skill-checkboxes-technical-${id}"></div>
                
                <div class="custom-skill-section">
                    <label>${currentLang === 'es' ? 'Agregar habilidad t√©cnica personalizada:' : 'Add custom technical skill:'}</label>
                    <div class="custom-skill-input-container">
                        <input 
                            type="text" 
                            id="custom-skill-input-technical-${id}" 
                            placeholder="${currentLang === 'es' ? 'Escribir nueva habilidad t√©cnica...' : 'Write new technical skill...'}"
                            class="custom-skill-input"
                        >
                        <button 
                            type="button" 
                            class="btn btn-add btn-small" 
                            onclick="addCustomSkill(${id}, 'technical')"
                        >
                            ${currentLang === 'es' ? 'Agregar' : 'Add'}
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- HABILIDADES BLANDAS -->
            <div class="skill-selection-container" style="margin-bottom: 20px;">
                <label style="font-weight: bold; font-size: 16px; color: #2d3748; margin-bottom: 10px; display: block;">
                    ${currentLang === 'es' ? 'üí° Habilidades Blandas' : 'üí° Soft Skills'}
                </label>
                <div class="skill-checkboxes" id="skill-checkboxes-soft-${id}"></div>
                
                <div class="custom-skill-section">
                    <label>${currentLang === 'es' ? 'Agregar habilidad blanda personalizada:' : 'Add custom soft skill:'}</label>
                    <div class="custom-skill-input-container">
                        <input 
                            type="text" 
                            id="custom-skill-input-soft-${id}" 
                            placeholder="${currentLang === 'es' ? 'Escribir nueva habilidad blanda...' : 'Write new soft skill...'}"
                            class="custom-skill-input"
                        >
                        <button 
                            type="button" 
                            class="btn btn-add btn-small" 
                            onclick="addCustomSkill(${id}, 'soft')"
                        >
                            ${currentLang === 'es' ? 'Agregar' : 'Add'}
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="selected-skills-display" id="selected-skills-${id}">
                <h5>${currentLang === 'es' ? 'Todas las habilidades seleccionadas:' : 'All selected skills:'}</h5>
                <div class="skills-list" id="skills-list-${id}"></div>
            </div>
        </div>
    `;
    
    container.insertAdjacentHTML('beforeend', html);
    
    // Cargar habilidades t√©cnicas y blandas por separado
    loadSkillsByType(id, 'technical');
    loadSkillsByType(id, 'soft');
    
    // Activar correcci√≥n en nuevos campos
    const newSection = document.getElementById(`skill-cat-${id}`);
    newSection.querySelectorAll('input, textarea').forEach(field => {
        field.addEventListener('input', applyAccentCorrection);
    });
    
    updatePreview();
}

function loadSkillsByType(categoryId, type) {
    const skillCheckboxes = document.getElementById(`skill-checkboxes-${type}-${categoryId}`);
    if (!skillCheckboxes) return;
    
    skillCheckboxes.innerHTML = '';
    
    const skills = predefinedSkills[currentLang][type];
    
    skills.forEach((skill, index) => {
        const checkboxId = `skill-${categoryId}-${type}-${index}`;
        const checkboxHtml = `
            <div class="skill-checkbox-item">
                <input type="checkbox" id="${checkboxId}" value="${skill}" data-type="${type}" onchange="updateSelectedSkills(${categoryId})">
                <label for="${checkboxId}">${skill}</label>
            </div>
        `;
        skillCheckboxes.insertAdjacentHTML('beforeend', checkboxHtml);
    });
}

function addCertification() {
    const container = document.getElementById('certifications-container');
    const t = texts[currentLang];
    const id = certCount++;
    
    const html = `
        <div class="dynamic-section" id="cert-${id}">
            <button class="btn btn-remove btn-small remove-btn" onclick="removeItem('cert-${id}')">
                ${t.remove}
            </button>
            <h4>${t.certificationsTitle} ${id + 1}</h4>
            
            <div class="form-row">
                <div class="form-group">
                    <label>${t.certificationName}</label>
                    <input type="text" class="cert-name" placeholder="AWS Cloud Practitioner" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>${t.organization}</label>
                    <input type="text" class="cert-org" placeholder="Amazon Web Services" oninput="updatePreview()">
                </div>
            </div>
            
            <div class="form-group">
                <label>${t.date}</label>
                <input type="text" class="cert-date" placeholder="2023" oninput="updatePreview()">
            </div>
            
            <div class="form-group">
                <label>${t.description}</label>
                <textarea class="cert-description" placeholder="Descripci√≥n de la certificaci√≥n..." oninput="updatePreview()"></textarea>
            </div>
        </div>
    `;
    
    container.insertAdjacentHTML('beforeend', html);
    updatePreview();
}

function addVolunteer() {
    const container = document.getElementById('volunteer-container');
    const t = texts[currentLang];
    const id = volunteerCount++;
    
    const html = `
        <div class="dynamic-section" id="vol-${id}">
            <button class="btn btn-remove btn-small remove-btn" onclick="removeItem('vol-${id}')">
                ${t.remove}
            </button>
            <h4>${t.volunteerTitle} ${id + 1}</h4>
            
            <div class="form-row">
                <div class="form-group">
                    <label>${t.volunteerRole}</label>
                    <input type="text" class="vol-role" placeholder="Interno de Marketing / Voluntario" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>${t.volunteerOrg}</label>
                    <input type="text" class="vol-org" placeholder="Empresa ABC / Cruz Roja" oninput="updatePreview()">
                </div>
            </div>
            
            <div class="form-group">
                <label>${t.volunteerDuration}</label>
                <input type="text" class="vol-duration" placeholder="2022 - 2023" oninput="updatePreview()">
            </div>
            
            <div class="form-group">
                <label>${t.volunteerDescription}</label>
               <textarea class="vol-description" placeholder="Descripci√≥n de actividades realizadas..." oninput="updatePreview()">
                </textarea>
            </div>
        </div>
    `;
    
    container.insertAdjacentHTML('beforeend', html);
    updatePreview();
}

function addAchievement() {
    const container = document.getElementById('achievements-container');
    const t = texts[currentLang];
    const id = achievementCount++;
    
    const html = `
        <div class="dynamic-section" id="achievement-${id}">
            <button class="btn btn-remove btn-small remove-btn" onclick="removeItem('achievement-${id}')">
                ${t.remove}
            </button>
            <h4>${t.achievementsTitle} ${id + 1}</h4>
            
            <div class="form-group">
                <label>${t.achievementTitle}</label>
                <input type="text" class="achievement-title" placeholder="${currentLang === 'es' ? 'Incremento del 40% en ventas anuales' : 'Increased annual sales by 40%'}" oninput="updatePreview()">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>${t.achievementRole}</label>
                    <input type="text" class="achievement-role" placeholder="${currentLang === 'es' ? 'Gerente de Ventas' : 'Sales Manager'}" oninput="updatePreview()">
                </div>
                <div class="form-group">
                    <label>${t.achievementCompany}</label>
                    <input type="text" class="achievement-company" placeholder="${currentLang === 'es' ? 'Empresa XYZ' : 'XYZ Company'}" oninput="updatePreview()">
                </div>
            </div>
            
            <div class="form-group">
                <label>${t.achievementDate}</label>
                <input type="text" class="achievement-date" placeholder="2023" oninput="updatePreview()">
            </div>
            
            <div class="form-group">
                <label>${t.achievementDescription}</label>
                <textarea class="achievement-description" rows="2" placeholder="${currentLang === 'es' ? 'Lider√© la implementaci√≥n de una nueva estrategia de ventas...' : 'Led the implementation of a new sales strategy...'}" oninput="updatePreview()"></textarea>
            </div>
            
            <div class="form-group">
                <label>${t.achievementResults}</label>
                <input type="text" class="achievement-results" placeholder="${currentLang === 'es' ? '40% de incremento, $500K en ingresos adicionales, 6 meses' : '40% increase, $500K additional revenue, 6 months'}" oninput="updatePreview()">
            </div>
            
            <div class="form-group">
                <label>${t.achievementSkill}</label>
                <input type="text" class="achievement-skill" placeholder="${currentLang === 'es' ? 'Liderazgo, Estrategia de Ventas, An√°lisis de Datos' : 'Leadership, Sales Strategy, Data Analysis'}" oninput="updatePreview()">
            </div>
        </div>
    `;
    
    container.insertAdjacentHTML('beforeend', html);
    
    // Activar correcci√≥n en nuevos campos
    const newSection = document.getElementById(`achievement-${id}`);
    newSection.querySelectorAll('input, textarea').forEach(field => {
        field.addEventListener('input', applyAccentCorrection);
    });
    
    updatePreview();
}

function addCustomSkill(categoryId, type) {
    const customInput = document.getElementById(`custom-skill-input-${type}-${categoryId}`);
    const skillValue = customInput.value.trim();
    
    if (skillValue) {
        // Crear un checkbox temporal para la habilidad personalizada
        const skillCheckboxes = document.getElementById(`skill-checkboxes-${type}-${categoryId}`);
        const customSkillId = `custom-skill-${categoryId}-${type}-${Date.now()}`;
        
        const customSkillHtml = `
            <div class="skill-checkbox-item custom-skill-item">
                <input type="checkbox" id="${customSkillId}" value="${skillValue}" data-type="${type}" checked onchange="updateSelectedSkills(${categoryId})">
                <label for="${customSkillId}">${skillValue}</label>
                <button type="button" class="btn btn-remove btn-small" onclick="removeCustomSkill('${customSkillId}', ${categoryId})" style="margin-left: auto;">√ó</button>
            </div>
        `;
        
        skillCheckboxes.insertAdjacentHTML('beforeend', customSkillHtml);
        
        // Limpiar el input
        customInput.value = '';
        
        // Actualizar la vista previa
        updateSelectedSkills(categoryId);
    } else {
        alert(currentLang === 'es' ? 'Por favor escribe una habilidad' : 'Please write a skill');
    }
}

function removeCustomSkill(skillId, categoryId) {
    const skillElement = document.getElementById(skillId).closest('.skill-checkbox-item');
    if (skillElement) {
        skillElement.remove();
        updateSelectedSkills(categoryId);
    }
}


function updateSelectedSkills(categoryId) {
    // Obtener TODAS las habilidades marcadas (t√©cnicas Y blandas)
    const technicalCheckboxes = document.querySelectorAll(`#skill-checkboxes-technical-${categoryId} input[type="checkbox"]:checked`);
    const softCheckboxes = document.querySelectorAll(`#skill-checkboxes-soft-${categoryId} input[type="checkbox"]:checked`);
    
    const skillsList = document.getElementById(`skills-list-${categoryId}`);
    skillsList.innerHTML = '';
    
    // Agregar todas las habilidades juntas (sin separaci√≥n)
    const allCheckboxes = [...technicalCheckboxes, ...softCheckboxes];
    
    allCheckboxes.forEach(checkbox => {
        const skillTag = document.createElement('span');
        skillTag.className = 'skill-tag';
        skillTag.textContent = checkbox.value;
        skillsList.appendChild(skillTag);
    });
    
    updatePreview();
}

function addSkill(categoryId) {
    const container = document.getElementById(`skills-list-${categoryId}`);
    const t = texts[currentLang];
    const skillId = Date.now();
    
    const html = `
        <div class="skill-item" id="skill-${skillId}">
            <input type="text" class="skill-name" placeholder="${t.skillName}" oninput="updatePreview()">
            <select class="skill-level" oninput="updatePreview()">
                <option value="beginner">${t.levels.beginner}</option>
                <option value="intermediate">${t.levels.intermediate}</option>
                <option value="advanced">${t.levels.advanced}</option>
                <option value="expert">${t.levels.expert}</option>
            </select>
            <button class="btn btn-remove btn-small" onclick="removeItem('skill-${skillId}')">
                ${t.remove}
            </button>
        </div>
    `;
    
    container.insertAdjacentHTML('beforeend', html);
    updatePreview();
}

function removeItem(id) {
    const element = document.getElementById(id);
    if (element) {
        element.remove();
        updatePreview();
    }
}

function formatPhoneNumber(input) {
    // Remover todo lo que no sea n√∫mero
    let phone = input.value.replace(/\D/g, '');
    
    // Limitar a 10 d√≠gitos
    phone = phone.substring(0, 10);
    
    // Aplicar formato (787) 123-4567
    let formatted = '';
    if (phone.length > 0) {
        formatted = '(' + phone.substring(0, 3);
        if (phone.length >= 4) {
            formatted += ') ' + phone.substring(3, 6);
        }
        if (phone.length >= 7) {
            formatted += '-' + phone.substring(6, 10);
        }
    }
    
    input.value = formatted;
    updatePreview();
}


function updatePreview() {
    // Informaci√≥n personal
    document.getElementById('preview-name').textContent = 
        document.getElementById('name').value || (currentLang === 'es' ? 'Tu Nombre' : 'Your Name');
    document.getElementById('preview-email').textContent = 
        document.getElementById('email').value || 'email@ejemplo.com';
    document.getElementById('preview-phone').textContent = 
        document.getElementById('phone').value || '+1 234 567 8900';
    document.getElementById('preview-location').textContent = 
        document.getElementById('location').value || (currentLang === 'es' ? 'Ciudad, Pa√≠s' : 'City, Country');
    
    // Resumen
    const summary = document.getElementById('summary').value;
    document.getElementById('preview-summary').innerHTML = 
        summary ? summary.replace(/\n/g, '<br>') : 
        (currentLang === 'es' ? 'Profesional comprometido, proactivo y orientado a resultados, con habilidades en comunicaci√≥n, trabajo en equipo y resoluci√≥n de problemas. Capacidad para adaptarse a distintos entornos laborales, 	aprender r√°pidamente y cumplir con metas establecidas.' : 'Committed, proactive, and results-oriented professional with strong communication, teamwork, and problem-solving skills. Able to adapt to different work environments, 	learn quickly, and meet established goals.');
    
    // Experiencias
updateExperiencePreview();
updateEducationPreview();
updateSkillsPreview();
updateCertificationsPreview();
updateVolunteerPreview();
updateAchievementsPreview();
}

function updateExperiencePreview() {
    const container = document.getElementById('preview-experience');
    let html = '';
    
    const experiences = document.querySelectorAll('#experience-container .dynamic-section');
    experiences.forEach((exp) => {
        const position = exp.querySelector('.exp-position')?.value || '';
        const company = exp.querySelector('.exp-company')?.value || '';
        const startDate = exp.querySelector('.exp-start')?.value || '';
        const endDate = exp.querySelector('.exp-end')?.value || '';
        const tasks = exp.querySelector('.exp-tasks')?.value || '';
        
        if (position || company) {
            html += `
                <div class="experience-item">
                    <div class="job-title">${position}</div>
                    <div class="company-info">${company} | ${startDate} - ${endDate}</div>
                    <div class="job-description">${tasks.replace(/\n/g, '<br>')}</div>
                </div>
            `;
        }
    });
    
    container.innerHTML = html || 
        (currentLang === 'es' ? 'Tu experiencia laboral aparecer√° aqu√≠...' : 'Your work experience will appear here...');
}

function updateEducationPreview() {
    const container = document.getElementById('preview-education');
    let html = '';
    
    const educations = document.querySelectorAll('#education-container .dynamic-section');
    educations.forEach((edu) => {
        const degree = edu.querySelector('.edu-degree')?.value || '';
        const institution = edu.querySelector('.edu-institution')?.value || '';
        const concentration = edu.querySelector('.edu-concentration')?.value || '';
        const year = edu.querySelector('.edu-year')?.value || '';
        const description = edu.querySelector('.edu-description')?.value || '';
        
        if (degree || institution) {
            html += `
                <div class="education-item">
                    <div class="degree-title">${degree}${concentration ? ' - ' + concentration : ''}</div>
                    <div class="institution-info">${institution} | ${year}</div>
                    ${description ? `<div>${description}</div>` : ''}
                </div>
            `;
        }
    });
    
    container.innerHTML = html || 
        (currentLang === 'es' ? 'Tu educaci√≥n aparecer√° aqu√≠...' : 'Your education will appear here...');
}

function updateSkillsPreview() {
    const container = document.getElementById('preview-skills');
    let html = '';
    
    const skillCategories = document.querySelectorAll('#skills-container .dynamic-section');
    skillCategories.forEach((cat, index) => {
        // Obtener TODAS las habilidades seleccionadas (t√©cnicas Y blandas) juntas
        const technicalSkills = cat.querySelectorAll('#skill-checkboxes-technical-0 input[type="checkbox"]:checked');
        const softSkills = cat.querySelectorAll('#skill-checkboxes-soft-0 input[type="checkbox"]:checked');
        
        const allSelectedSkills = [...technicalSkills, ...softSkills];
        
        if (allSelectedSkills.length > 0) {
            html += `<div class="skills-category">`;
            html += `<div class="skills-list">`;
            
            allSelectedSkills.forEach((checkbox) => {
                const skillName = checkbox.value;
                if (skillName) {
                    html += `<span class="skill-tag">${skillName}</span>`;
                }
            });
            
            html += `</div></div>`;
        }
    });
    
    container.innerHTML = html || 
        (currentLang === 'es' ? 'Tus habilidades aparecer√°n aqu√≠...' : 'Your skills will appear here...');
}

function updateCertificationsPreview() {
    const container = document.getElementById('preview-certifications');
    const section = container.closest('.resume-section');
    let html = '';
    
    const certifications = document.querySelectorAll('#certifications-container .dynamic-section');
    certifications.forEach((cert) => {
        const name = cert.querySelector('.cert-name')?.value || '';
        const org = cert.querySelector('.cert-org')?.value || '';
        const date = cert.querySelector('.cert-date')?.value || '';
        const description = cert.querySelector('.cert-description')?.value || '';
        
        if (name || org) {
            html += `
    <div class="education-item">
        <div class="degree-title">${degree}${concentration ? ' - ' + concentration : ''}</div>
        <div class="institution-info">${institution} | ${year}</div>
        ${description ? `<div>${description}</div>` : ''}
    </div>
`;
        }
    });
    
    if (html) {
        container.innerHTML = html;
        section.style.display = 'block';
    } else {
        container.innerHTML = currentLang === 'es' ? 'Tus certificaciones aparecer√°n aqu√≠...' : 'Your certifications will appear here...';
        section.style.display = 'none';
    }
}

function updateVolunteerPreview() {
    const container = document.getElementById('preview-volunteer');
    const section = container.closest('.resume-section');
    let html = '';
    
    const volunteers = document.querySelectorAll('#volunteer-container .dynamic-section');
    volunteers.forEach((vol) => {
        const role = vol.querySelector('.vol-role')?.value || '';
        const org = vol.querySelector('.vol-org')?.value || '';
        const duration = vol.querySelector('.vol-duration')?.value || '';
        const description = vol.querySelector('.vol-description')?.value || '';
        
        if (role || org) {
            html += `
                <div class="experience-item">
                    <div class="job-title">${role}</div>
                    <div class="company-info">${org} | ${duration}</div>
                    <div class="job-description">${description.replace(/\n/g, '<br>')}</div>
                </div>
            `;
        }
    });
    
    if (html) {
        container.innerHTML = html;
        section.style.display = 'block';
    } else {
        container.innerHTML = currentLang === 'es' ? 'Tu experiencia de voluntariado aparecer√° aqu√≠...' : 'Your volunteer experience will appear here...';
        section.style.display = 'none';
    }
 cleanPreviewFromModalContent();	

}

function updateAchievementsPreview() {
    const container = document.getElementById('preview-achievements');
    const section = container.closest('.resume-section');
    let html = '';
    
    const achievements = document.querySelectorAll('#achievements-container .dynamic-section');
    achievements.forEach((achievement) => {
        const title = achievement.querySelector('.achievement-title')?.value || '';
        const role = achievement.querySelector('.achievement-role')?.value || '';
        const company = achievement.querySelector('.achievement-company')?.value || '';
        const date = achievement.querySelector('.achievement-date')?.value || '';
        const description = achievement.querySelector('.achievement-description')?.value || '';
        const results = achievement.querySelector('.achievement-results')?.value || '';
        const skill = achievement.querySelector('.achievement-skill')?.value || '';
        
        if (title || role) {
            html += `
                <div class="experience-item">
                    <div class="job-title">${title}</div>
                    <div class="company-info">${role}${company ? ' | ' + company : ''}${date ? ' | ' + date : ''}</div>
                    ${description ? `<div class="job-description">${description}</div>` : ''}
                    ${results ? `<div class="job-description" style="margin-top: 8px;"><strong>${currentLang === 'es' ? 'Resultados:' : 'Results:'}</strong> ${results}</div>` : ''}
                    ${skill ? `<div class="job-description" style="margin-top: 8px; font-style: italic;"><strong>${currentLang === 'es' ? 'Habilidades:' : 'Skills:'}</strong> ${skill}</div>` : ''}
                </div>
            `;
        }
    });
    
    if (html) {
        container.innerHTML = html;
        section.style.display = 'block';
    } else {
        container.innerHTML = currentLang === 'es' ? 'Tus logros destacados aparecer√°n aqu√≠...' : 'Your key achievements will appear here...';
        section.style.display = 'none';
    }
}

function clearAll() {
    if (confirm(currentLang === 'es' ? '¬øSeguro que quieres limpiar todo?' : 'Are you sure you want to clear everything?')) {
        // Limpiar informaci√≥n personal y resumen
        document.getElementById('name').value = '';
        document.getElementById('email').value = '';
        document.getElementById('phone').value = '';
        document.getElementById('location').value = '';
        document.getElementById('summary').value = '';
        
        // Limpiar completamente las secciones din√°micas
document.getElementById('experience-container').innerHTML = '';
document.getElementById('education-container').innerHTML = '';
document.getElementById('skills-container').innerHTML = '';
document.getElementById('certifications-container').innerHTML = '';
document.getElementById('volunteer-container').innerHTML = '';
document.getElementById('achievements-container').innerHTML = '';

// Resetear contadores
expCount = 0;
eduCount = 0;
skillCount = 0;
certCount = 0;
volunteerCount = 0;
achievementCount = 0;

	// Resetear todos los selectores a valores originales
	document.getElementById('language-select').value = 'es';
	document.getElementById('template-select').value = 'modern';
	document.getElementById('font-select').value = 'arial';
	document.getElementById('font-size-select').value = '14';

	// Actualizar el idioma y clases
	currentLang = 'es';
	updateLanguage();
	updateTemplateOptions();
	updateFontClass();
        
        // NO agregar elementos autom√°ticamente - dejar las secciones vac√≠as
        // addExperience();    ‚Üê ELIMINAR O COMENTAR ESTAS L√çNEAS
        // addEducation();     ‚Üê ELIMINAR O COMENTAR ESTAS L√çNEAS  
        // addSkillCategory(); ‚Üê ELIMINAR O COMENTAR ESTAS L√çNEAS
        
        updatePreview();
    }
}

// Funciones de exportaci√≥n
async function exportToPDF() {
    try {
        // Verificar si las librer√≠as est√°n cargadas
        if (typeof window.jspdf === 'undefined' || typeof html2canvas === 'undefined') {
            alert('Las librer√≠as de PDF no est√°n cargadas. Por favor recarga la p√°gina.');
            return;
        }

        const { jsPDF } = window.jspdf;
        const element = document.getElementById('resume-preview');
        
        // Configuraciones mejoradas para html2canvas
        const canvas = await html2canvas(element, {
            scale: 3,
            useCORS: true,
            logging: false,
            backgroundColor: '#ffffff',
            height: element.scrollHeight,
            windowWidth: element.scrollWidth,
            allowTaint: true,
            removeContainer: true,
            imageTimeout: 0,
           onclone: function(clonedDoc) {
    const clonedElement = clonedDoc.getElementById('resume-preview');
    if (clonedElement) {
        clonedElement.style.width = '800px';
        clonedElement.style.padding = '40px';
        clonedElement.style.boxSizing = 'border-box';
        clonedElement.style.fontSize = '14px';
        clonedElement.style.lineHeight = '1.4';
        
        // Fix para Stockholm Pro grid layout
        if (clonedElement.classList.contains('template-stockholm-pro')) {
            clonedElement.style.display = 'grid';
            clonedElement.style.gridTemplateColumns = '220px 1fr';
            clonedElement.style.gap = '0';
            
            // Asegurar que left-column y right-column se vean bien
            const leftCol = clonedElement.querySelector('.left-column');
            const rightCol = clonedElement.querySelector('.right-column');
            
            if (leftCol) {
    leftCol.style.gridColumn = '1';
    leftCol.style.gridRow = '3';
    leftCol.style.background = '#F9FAFB';
    leftCol.style.padding = '0 25px 50px 25px';
    leftCol.style.borderRight = '1px solid #E5E7EB';
}

if (rightCol) {
    rightCol.style.gridColumn = '2';
    rightCol.style.gridRow = '3';
    rightCol.style.padding = '0 50px 50px 40px';
    rightCol.style.background = 'white';
}
            
            // Fix para resume-summary
const summary = clonedElement.querySelector('.resume-summary');
if (summary) {
    summary.style.gridColumn = '1 / -1';
    summary.style.padding = '0 50px 35px 50px';
    summary.style.textAlign = 'center';
    
    const summaryH3 = summary.querySelector('h3');
    if (summaryH3) {
        summaryH3.style.display = 'inline-block';
        summaryH3.style.textAlign = 'center';
    }
    
    const summaryP = summary.querySelector('p');
    if (summaryP) {
        summaryP.style.textAlign = 'center';
        summaryP.style.maxWidth = '700px';
        summaryP.style.margin = '0 auto';
    }
}
            
            // Fix para resume-header
            const header = clonedElement.querySelector('.resume-header');
            if (header) {
                header.style.gridColumn = '1 / -1';
                header.style.padding = '50px 50px 30px 50px';
            }
        }
        
        // Prevenir que elementos se corten - MEJORADO
const sections = clonedElement.querySelectorAll('.resume-section, .experience-item, .education-item');
sections.forEach(section => {
    section.style.breakInside = 'avoid';
    section.style.pageBreakInside = 'avoid';
    section.style.breakBefore = 'auto';
    section.style.breakAfter = 'auto';
});

// Prevenir cortes en p√°rrafos y t√≠tulos
const paragraphs = clonedElement.querySelectorAll('p, .job-title, .degree-title, .company-info, .institution-info');
paragraphs.forEach(p => {
    p.style.breakInside = 'avoid';
    p.style.pageBreakInside = 'avoid';
    p.style.wordBreak = 'keep-all';
    p.style.hyphens = 'none';
});

// Asegurar que los t√≠tulos no queden solos al final de p√°gina
const headings = clonedElement.querySelectorAll('h3, h4, .job-title, .degree-title');
headings.forEach(h => {
    h.style.breakAfter = 'avoid';
    h.style.pageBreakAfter = 'avoid';
});

// Mantener experiencias/educaci√≥n juntas
const items = clonedElement.querySelectorAll('.experience-item, .education-item');
items.forEach(item => {
    item.style.breakInside = 'avoid';
    item.style.pageBreakInside = 'avoid';
    item.style.marginBottom = '20px';
    item.style.paddingBottom = '15px';
});
    }
}
        });
        
        const imgData = canvas.toDataURL('image/png', 1.0);
        
        // Configuraci√≥n del PDF
        const pdf = new jsPDF({
            orientation: 'portrait',
            unit: 'mm',
            format: 'a4',
            compress: true
        });
        
        const pdfWidth = 210; // A4 width in mm
        const pdfHeight = 297; // A4 height in mm
        const margin = 10; // Margen de 10mm
        const contentWidth = pdfWidth - (margin * 2);
        const contentHeight = pdfHeight - (margin * 2);
        
        // Calcular dimensiones de la imagen
        const imgWidth = contentWidth;
        const imgHeight = (canvas.height * imgWidth) / canvas.width;
        
        // Si la imagen cabe en una p√°gina
        if (imgHeight <= contentHeight) {
            pdf.addImage(imgData, 'PNG', margin, margin, imgWidth, imgHeight);
        } else {
            // Si necesita m√∫ltiples p√°ginas, dividir inteligentemente
const totalPages = Math.ceil(imgHeight / contentHeight);

// A√±adir m√°s margen de seguridad para evitar cortes
const safeContentHeight = contentHeight - 20; // 20mm de buffer

for (let page = 0; page < totalPages; page++) {
    if (page > 0) {
        pdf.addPage();
    }
    
    // Calcular posici√≥n con margen de seguridad
    const startY = page * safeContentHeight;
    const remainingHeight = imgHeight - startY;
    const currentPageHeight = Math.min(safeContentHeight, remainingHeight);
    
    // Crear un canvas temporal para esta p√°gina con overlap
    const pageCanvas = document.createElement('canvas');
    const pageCtx = pageCanvas.getContext('2d');
    
    // A√±adir un peque√±o overlap entre p√°ginas (10mm)
    const overlap = page > 0 ? 10 : 0;
    const adjustedStartY = Math.max(0, startY - overlap);
    
    pageCanvas.width = canvas.width;
    pageCanvas.height = ((currentPageHeight + overlap) * canvas.width) / imgWidth;
    
    // Fondo blanco para evitar transparencias
    pageCtx.fillStyle = '#ffffff';
    pageCtx.fillRect(0, 0, pageCanvas.width, pageCanvas.height);
    
    // Copiar la porci√≥n correspondiente de la imagen original
    pageCtx.drawImage(
        canvas,
        0, (adjustedStartY * canvas.width) / imgWidth,
        canvas.width, pageCanvas.height,
        0, 0,
        canvas.width, pageCanvas.height
    );
    
    const pageImgData = pageCanvas.toDataURL('image/png', 1.0);
    pdf.addImage(pageImgData, 'PNG', margin, margin, imgWidth, currentPageHeight);
}
        }
        
        // Guardar el PDF
        const fileName = document.getElementById('name').value || 'resume';
        pdf.save(`${fileName}_resume.pdf`);

// MOSTRAR MENSAJE INFORMATIVO
showCareerOfficeInfo();

    } catch (error) {
        console.error('Error generando PDF:', error);
        alert('Error al generar el PDF. Intenta de nuevo.');
    }
}

function exportToWord() {
    try {
        // Mostrar advertencia sobre limitaciones de Word
        const confirmExport = confirm(
            currentLang === 'es' 
            ? '‚ö†Ô∏è AVISO IMPORTANTE:\n\nAl exportar a Word, algunas plantillas pueden afectarse debido a las limitaciones del formato.\n\nPara mejores resultados, recomendamos usar la exportaci√≥n PDF.\n\n¬øDeseas continuar con la exportaci√≥n a Word?'
            : '‚ö†Ô∏è IMPORTANT NOTICE:\n\nWhen exporting to Word, some templates may be affected due to format limitations.\n\nFor best results, we recommend using PDF export.\n\nDo you want to continue with Word export?'
        );
        
        if (!confirmExport) {
            return; // Si cancela, no exporta
        }

        const previewContent = document.getElementById('resume-preview').innerHTML;
        const template = document.getElementById('template-select').value;
        
       // Mapeo de fuentes
const fontMap = {
    'arial': 'Arial, sans-serif',
    'times': '"Times New Roman", serif',
    'helvetica': '"Inter", "Helvetica Neue", Helvetica, Arial, sans-serif',
    'georgia': 'Georgia, serif',
    'calibri': 'Calibri, Arial, sans-serif',
    'verdana': 'Verdana, Arial, sans-serif',
    'tahoma': 'Tahoma, Arial, sans-serif',
    'trebuchet': '"Trebuchet MS", Arial, sans-serif',
    'roboto': '"Roboto", Arial, sans-serif',
    'opensans': '"Open Sans", Arial, sans-serif',
    'lato': '"Lato", Arial, sans-serif',
    'montserrat': '"Montserrat", Arial, sans-serif',
    'poppins': '"Poppins", Arial, sans-serif',
    'playfair': '"Playfair Display", Georgia, serif',
    'merriweather': '"Merriweather", Georgia, serif',
    'source-sans': '"Source Sans Pro", Arial, sans-serif'
};

const selectedFont = document.getElementById('font-select').value;

let styles = `
    <style>
        body { 
            font-family: ${fontMap[selectedFont]}
                    margin: 40px; 
                    line-height: 1.6; 
                    color: #333;
                }
                .resume-header { margin-bottom: 30px; }
                .name { margin-bottom: 10px; }
                .contact-info { margin-bottom: 20px; }
                .resume-section { margin-bottom: 20px; }
                .experience-item, .education-item { 
                    margin-bottom: 15px; 
                    padding-bottom: 10px; 
                    border-bottom: 1px solid #e2e8f0; 
                }
                .job-title, .degree-title { 
                    font-weight: bold; 
                    font-size: 16px; 
                    color: #2d3748; 
                }
                .company-info, .institution-info { 
                    color: #718096; 
                    font-size: 14px; 
                    margin-bottom: 5px; 
                }
                .skills-category { margin-bottom: 15px; }
                .skills-category h4 { 
                    font-weight: bold; 
                    margin-bottom: 8px; 
                    color: #2d3748; 
                }
                .skills-list { 
                    display: flex; 
                    flex-wrap: wrap; 
                    gap: 8px; 
                }
                .skill-tag { 
                    color: white; 
                    padding: 4px 8px; 
                    border-radius: 12px; 
                    font-size: 12px; 
                    font-weight: 500; 
                    display: inline-block;
                }
        `;

        // Estilos espec√≠ficos por plantilla
        switch(template) {
            case 'modern':
                styles += `
                    .name {
                        font-size: 32px;
                        color: #2d3748;
                        font-weight: bold;
                    }
                    .resume-header {
                        border-bottom: 3px solid #667eea;
                        padding-bottom: 20px;
                    }
                    .contact-info {
                        font-size: 14px;
                        color: #718096;
                    }
                    h3 {
                        color: #2d3748;
                        border-bottom: 2px solid #667eea;
                        padding-bottom: 5px;
                        margin-bottom: 15px;
                        font-size: 18px;
                    }
                    .skill-tag { background: #667eea; }
                `;
                break;
                
            case 'creative':
                styles += `
                    .resume-header {
                        background-color: #667eea !important;
                        background: #667eea !important;
                        color: white;
                        padding: 30px;
                        text-align: center;
                        margin: -40px -40px 30px -40px;
                    }
                    .name {
                        font-size: 32px;
                        font-weight: bold;
                        color: white !important;
                    }
                    .contact-info {
                        font-size: 14px;
                        color: white !important;
                    }
                    h3 {
                        color: #667eea;
                        border-bottom: 2px solid #667eea;
                        padding-bottom: 5px;
                        margin-bottom: 15px;
                        font-size: 18px;
                    }
                    .skill-tag { background: #667eea; }
                `;
                break;
                
            case 'minimal':
                styles += `
                    .resume-header {
                        text-align: center;
                        border-bottom: 1px solid #e2e8f0;
                        padding-bottom: 20px;
                    }
                    .name {
                        font-size: 28px;
                        font-weight: 300;
                        letter-spacing: 2px;
                        text-transform: uppercase;
                        color: #2d3748;
                    }
                    .contact-info {
                        font-size: 14px;
                        color: #718096;
                        font-weight: 300;
                    }
                    h3 {
                        color: #2d3748;
                        border-bottom: 1px solid #e2e8f0;
                        padding-bottom: 5px;
                        margin-bottom: 15px;
                        font-size: 16px;
                        font-weight: 400;
                        text-transform: uppercase;
                        letter-spacing: 1px;
                    }
                    .skill-tag { background: #667eea; }
                `;
                break;
                
            case 'elegant':
                styles += `
                    .resume-header {
                        background-color: #1a202c !important;
                        background: #1a202c !important;
                        color: white;
                        padding: 30px;
                        text-align: center;
                        margin: -40px -40px 30px -40px;
                    }
                    .name {
                        font-size: 32px;
                        font-weight: bold;
                        color: white !important;
                        font-family: 'Georgia', serif;
                    }
                    .contact-info {
                        font-size: 14px;
                        color: white !important;
                        font-style: italic;
                    }
                    h3 {
                        color: #1a202c;
                        border-bottom: 2px solid #1a202c;
                        padding-bottom: 5px;
                        margin-bottom: 15px;
                        font-size: 18px;
                        font-family: 'Georgia', serif;
                    }
                    .skill-tag { background: #1a202c; }
                `;
                break;
                
            case 'clean':
                styles += `
                    .resume-header {
                        border-bottom: 3px solid #48bb78;
                        padding-bottom: 20px;
                    }
                    .name {
                        color: #2f855a;
                        font-size: 30px;
                        font-weight: bold;
                    }
                    .contact-info {
                        font-size: 14px;
                        color: #68d391;
                    }
                    h3 {
                        color: #2f855a;
                        border-bottom: 2px solid #48bb78;
                        padding-bottom: 5px;
                        margin-bottom: 15px;
                        font-size: 18px;
                    }
                    .skill-tag { background: #48bb78; }
                `;
                break;
                
            case 'corporate':
                styles += `
                    .resume-header {
                        background-color: #2b6cb0 !important;
                        background: #2b6cb0 !important;
                        color: white;
                        padding: 25px;
                        margin: -40px -40px 30px -40px;
                    }
                    .name {
                        font-size: 30px;
                        font-weight: bold;
                        color: white !important;
                    }
                    .contact-info {
                        font-size: 14px;
                        color: white !important;
                    }
                    h3 {
                        color: #2b6cb0;
                        border-bottom: 2px solid #2b6cb0;
                        padding-bottom: 5px;
                        margin-bottom: 15px;
                        font-size: 18px;
                        font-weight: bold;
                    }
                    .skill-tag { background: #2b6cb0; }
                `;
                break;
 case 'professional':
                styles += `
                    body {
                        display: grid;
                        grid-template-columns: 300px 1fr;
                        gap: 30px;
                    }
                    .resume-header {
                        grid-column: 1 / -1;
                        border-bottom: 3px solid #2d3748;
                        padding-bottom: 20px;
                        margin-bottom: 30px;
                        position: relative;
                    }
                    .name {
                        font-size: 32px;
                        font-weight: bold;
                        color: #2d3748;
                        text-transform: uppercase;
                        letter-spacing: 1px;
                    }
                    .contact-info {
                        position: absolute;
                        right: 0;
                        top: 0;
                        text-align: right;
                        font-size: 14px;
                        color: #4a5568;
                    }
                    .resume-summary {
                        grid-column: 1 / -1;
                        text-align: center;
                        margin-bottom: 30px;
                        padding: 20px;
                        background: #f7fafc;
                    }
                    .left-column { grid-column: 1; }
                    .right-column { grid-column: 2; }
                    h3 {
                        color: #2d3748;
                        font-size: 18px;
                        text-transform: uppercase;
                        letter-spacing: 1px;
                        border-bottom: 2px solid #2d3748;
                        padding-bottom: 8px;
                        margin-bottom: 20px;
                    }
                    .skill-tag { background: #2d3748; }
                `;
                break;

        }

        styles += '</style>';

        const html = `
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40">
            <head>
                <meta charset="utf-8">
                <title>Resume</title>
                ${styles}
            </head>
            <body>
                ${previewContent}
            </body>
            </html>
        `;

        const blob = new Blob(['\ufeff', html], { 
            type: 'application/msword' 
        });
        
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        const fileName = document.getElementById('name').value || 'resume';
        a.href = url;
        a.download = `${fileName}_resume.doc`;
        document.body.appendChild(a);
        a.click();
        
document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        // AGREGAR ESTAS L√çNEAS:
        // MOSTRAR MENSAJE INFORMATIVO  
showCareerOfficeWordInfo();
        
    } catch (error) {
        console.error('Error al exportar Word:', error);
        alert('Error al exportar a Word');
    }      
}

function cleanPreviewFromModalContent() {
    const resumePreview = document.getElementById('resume-preview');
    // Eliminar cualquier contenido del modal que aparezca en la vista previa
    const modalSelectors = [
        '[id*="email-modal"]',
        '[id*="recipient-"]', 
        '[id*="subject-"]',
        '[id*="message-"]',
        '.email-modal-header',
        '.email-modal-body',
        '.email-modal-content'
    ];
    
    modalSelectors.forEach(selector => {
        const elements = resumePreview.querySelectorAll(selector);
        elements.forEach(el => el.remove());
    });
}

function openExitModal() {
    showFinalExitModal();
}

function closeExitModal() {
    document.getElementById('exit-modal').style.display = 'none';
}

function showFinalExitModal() {
    const modal = document.getElementById('exit-modal');
    if (modal) {
        modal.style.display = 'flex';
        modal.style.position = 'fixed';
        modal.style.top = '0';
        modal.style.left = '0';
        modal.style.width = '100%';
        modal.style.height = '100%';
        modal.style.zIndex = '99999';
        modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
        modal.style.justifyContent = 'center';
        modal.style.alignItems = 'center';
    }
}

function updateExitModalTexts() {
    if (currentLang === 'es') {
        document.getElementById('exit-modal-title').textContent = '¬°Gracias por usar UAGM Resume Builder!';
        // No intentar cambiar el p√°rrafo que no existe - ya est√° bien en el HTML
    } else {
        document.getElementById('exit-modal-title').textContent = 'Thank you for using UAGM Resume Builder!';
        // No intentar cambiar el p√°rrafo que no existe - ya est√° bien en el HTML
    }
}
function showSurveyModal() {
    updateSurveyTexts();
    document.getElementById('survey-modal').style.display = 'flex';
}

function closeSurveyModal() {
    document.getElementById('survey-modal').style.display = 'none';
}

function showSuccessAndSurvey(exportType) {
    const message = currentLang === 'es' 
        ? `¬°Genial! Tu resum√© en ${exportType} est√° listo. üéâ\n\n¬øPodr√≠as ayudarnos con una encuesta r√°pida sobre tu experiencia?` 
        : `Great! Your ${exportType} resume is ready! üéâ\n\nCould you help us with a quick survey about your experience?`;
    
    if (confirm(message)) {
        showSurveyModal();
    }
}

async function submitSurveyAndExit() {
    try {
        // Recopilar datos
        const surveyData = collectSurveyData();
        
        // Preparar datos para Google Forms
        const formData = new FormData();
        formData.append('entry.278011305', surveyData.responses.resumePreparation || '');
        formData.append('entry.652553867', surveyData.responses.universitySupport || '');
        formData.append('entry.1508588457', surveyData.responses.difficultyResolution || '');
        formData.append('entry.989837215', surveyData.responses.easeOfUse || '');
        formData.append('entry.881790119', surveyData.responses.comments || '');
        
        // Enviar a Google Forms
        await fetch('https://docs.google.com/forms/d/e/1FAIpQLSddZXMDD3Jeb-Ra5kI9-xFGpepV2rumpTiZtWZSaCrC77a-tw/formResponse', {
            method: 'POST',
            body: formData,
            mode: 'no-cors'
        });
        
        // Mostrar mensaje de √©xito
        alert(currentLang === 'es' 
            ? '¬°Gracias por tu feedback! Tu opini√≥n ha sido registrada exitosamente.' 
            : 'Thank you for your feedback! Your opinion has been successfully recorded.');
        
    } catch (error) {
        console.error('Error enviando encuesta:', error);
        alert(currentLang === 'es' 
            ? '¬°Gracias por tu feedback! (Los datos se guardaron localmente)' 
            : 'Thank you for your feedback! (Data saved locally)');
    }
    
    closeSurveyModal();
}

function collectSurveyData() {
    const data = {
        timestamp: new Date().toISOString(),
        language: currentLang,
        responses: {}
    };
    
    // Recopilar respuesta pregunta 1
    const q1Radio = document.querySelector('input[name="q1-satisfaction"]:checked');
    if (q1Radio) {
        switch(q1Radio.value) {
            case 'muy-satisfecho': data.responses.resumePreparation = 'Muy Satisfecho'; break;
            case 'satisfecho': data.responses.resumePreparation = 'Satisfecho'; break;
            case 'neutral': data.responses.resumePreparation = 'Neutral'; break;
            case 'poco-satisfecho': data.responses.resumePreparation = 'Poco Satisfecho'; break;
        }
    }
    
    // Recopilar respuesta pregunta 2
    const q2Radio = document.querySelector('input[name="q2-effectiveness"]:checked');
    if (q2Radio) {
        switch(q2Radio.value) {
            case 'muy-satisfecho': data.responses.universitySupport = 'Muy Satisfecho'; break;
            case 'satisfecho': data.responses.universitySupport = 'Satisfecho'; break;
            case 'neutral': data.responses.universitySupport = 'Neutral'; break;
            case 'poco-satisfecho': data.responses.universitySupport = 'Poco Satisfecho'; break;
        }
    }
    
    // Recopilar respuesta pregunta 3
    const q3Radio = document.querySelector('input[name="q3-usefulness"]:checked');
    if (q3Radio) {
        switch(q3Radio.value) {
            case 'muy-satisfecho': data.responses.difficultyResolution = 'Muy Satisfecho'; break;
            case 'satisfecho': data.responses.difficultyResolution = 'Satisfecho'; break;
            case 'neutral': data.responses.difficultyResolution = 'Neutral'; break;
            case 'poco-satisfecho': data.responses.difficultyResolution = 'Poco Satisfecho'; break;
        }
    }
    
    // Recopilar respuesta pregunta 4
    const q4Radio = document.querySelector('input[name="q4-usability"]:checked');
    if (q4Radio) {
        switch(q4Radio.value) {
            case 'muy-satisfecho': data.responses.easeOfUse = 'Muy Satisfecho'; break;
            case 'satisfecho': data.responses.easeOfUse = 'Satisfecho'; break;
            case 'neutral': data.responses.easeOfUse = 'Neutral'; break;
            case 'poco-satisfecho': data.responses.easeOfUse = 'Poco Satisfecho'; break;
        }
    }
    
    // Recopilar comentarios
    data.responses.comments = document.getElementById('survey-comments').value;
    
    return data;
}

function setStarRating(rating) {
    const stars = document.querySelectorAll('.star');
    stars.forEach((star, index) => {
        if (index < rating) {
            star.classList.add('active');
        } else {
            star.classList.remove('active');
        }
        star.dataset.rating = rating;
    });
}

function setScaleRating(value, element) {
    // Remover selecci√≥n anterior
    document.querySelectorAll('.scale-option').forEach(opt => {
        opt.classList.remove('selected');
    });
    // Agregar selecci√≥n actual
    element.classList.add('selected');
}

function updateSurveyTexts() {
    const surveyTexts = {
        es: {
            title: 'üìù Encuesta de Satisfacci√≥n',
            subtitle: 'Tu opini√≥n nos ayuda a mejorar',
            q1: '¬øQu√© tan satisfecho est√°s en c√≥mo esta aplicaci√≥n prepar√≥ tu resum√©?',
            q2: '¬øQu√© tan efectiva consideras esta herramienta como apoyo de la universidad para tu inserci√≥n laboral?',
            q3: '¬øQu√© tan √∫til fue esta aplicaci√≥n para superar dificultades en la creaci√≥n de tu resum√© profesional?',
            q4: '¬øQu√© tan satisfecho est√°s con la facilidad de uso de la aplicaci√≥n?',
            q5: 'Comentarios adicionales o sugerencias:',
            submitBtn: 'Enviar Encuesta y Salir',
            skipBtn: 'Omitir y Salir',
            options: {
                muy: 'Muy Satisfecho',
                satisfecho: 'Satisfecho',
                neutral: 'Neutral',
                poco: 'Poco Satisfecho'
            }
        },
        en: {
            title: 'üìù Satisfaction Survey',
            subtitle: 'Your opinion helps us improve',
            q1: 'How satisfied are you with how this application prepared your resume?',
            q2: 'How effective do you consider this tool as university support for your job placement?',
            q3: 'How useful was this application to overcome difficulties in creating your professional resume?',
            q4: 'How satisfied are you with the ease of use of the application?',
            q5: 'Additional comments or suggestions:',
            submitBtn: 'Submit Survey and Exit',
            skipBtn: 'Skip and Exit',
            options: {
                muy: 'Very Satisfied',
                satisfecho: 'Satisfied',
                neutral: 'Neutral',
                poco: 'Not Very Satisfied'
            }
        }
    };
    
    const texts = surveyTexts[currentLang];
    
    document.getElementById('survey-title').textContent = texts.title;
    document.getElementById('survey-subtitle').textContent = texts.subtitle;
    document.getElementById('survey-q1').textContent = texts.q1;
    document.getElementById('survey-q2').textContent = texts.q2;
    document.getElementById('survey-q3').textContent = texts.q3;
    document.getElementById('survey-q4').textContent = texts.q4;
    document.getElementById('survey-q5').textContent = texts.q5;
    
    // Actualizar opciones para todas las preguntas
    ['q1', 'q2', 'q3', 'q4'].forEach(q => {
        document.getElementById(`${q}-muy`).textContent = texts.options.muy;
        document.getElementById(`${q}-satisfecho`).textContent = texts.options.satisfecho;
        document.getElementById(`${q}-neutral`).textContent = texts.options.neutral;
        document.getElementById(`${q}-poco`).textContent = texts.options.poco;
    });
    
   // Actualizar bot√≥n
document.getElementById('survey-submit-btn').textContent = texts.submitBtn;
}

// Funciones del Men√∫ Hamburguesa
function toggleMenu() {
    const sidebar = document.getElementById('sidebar-menu');
    const overlay = document.getElementById('menu-overlay');
    
    if (sidebar.classList.contains('open')) {
        closeMenu();
    } else {
        openMenu();
    }
}

function openMenu() {
    const sidebar = document.getElementById('sidebar-menu');
    const overlay = document.getElementById('menu-overlay');
    
    sidebar.classList.add('open');
    overlay.classList.add('show');
    document.body.style.overflow = 'hidden'; // Prevenir scroll del body
}

function closeMenu() {
    const sidebar = document.getElementById('sidebar-menu');
    const overlay = document.getElementById('menu-overlay');
    
    sidebar.classList.remove('open');
    overlay.classList.remove('show');
    document.body.style.overflow = ''; // Restaurar scroll del body
}

// Cerrar men√∫ con tecla Escape
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeMenu();
    }
});

function closeApplication() {
    window.close();
    // Si no funciona window.close(), redirigir a una p√°gina en blanco
    if (!window.closed) {
        window.location.href = 'about:blank';
    }

}

function showCareerOfficeInfo() {
    const message = currentLang === 'es' 
        ? `‚úÖ ¬°Tu resum√© PDF est√° listo!\n\nüìß ¬øTe interesa compartir tu resum√© con la Oficina de Carreras y Colocaciones?\n\nPuedes enviarlo directamente a:\n‚Ä¢ brgonzalez@uagm.edu\n\nLa Oficina de Carreras te puede ayudar con:\n‚Ä¢ Revisi√≥n y mejoras de tu resum√©\n‚Ä¢ Oportunidades laborales\n‚Ä¢ Consejos de entrevistas\n‚Ä¢ Networking profesional\n\n¬°No dudes en contactarnos!`
        : `‚úÖ Your PDF resume is ready!\n\nüìß Would you like to share your resume with the Career Services Office?\n\nYou can send it directly to:\n‚Ä¢ brgonzalez@uagm.edu\n\nCareer Services can help you with:\n‚Ä¢ Resume review and improvements\n‚Ä¢ Job opportunities\n‚Ä¢ Interview tips\n‚Ä¢ Professional networking\n\nDon't hesitate to contact us!`;
    
    alert(message);
    
    setTimeout(() => {
        showSuccessAndSurvey('PDF');
    }, 500);
}

function showCareerOfficeWordInfo() {
    const message = currentLang === 'es' 
        ? `‚úÖ ¬°Tu resum√© Word est√° listo!\n\nüìß ¬øTe interesa compartir tu resum√© con la Oficina de Carreras y Colocaciones?\n\nPuedes enviarlo directamente a:\n‚Ä¢ brgonzalez@uagm.edu\n\nLa Oficina de Carreras te puede ayudar con:\n‚Ä¢ Revisi√≥n y mejoras de tu resum√©\n‚Ä¢ Oportunidades laborales\n‚Ä¢ Consejos de entrevistas\n‚Ä¢ Networking profesional\n\n¬°No dudes en contactarnos!`
        : `‚úÖ Your Word resume is ready!\n\nüìß Would you like to share your resume with the Career Services Office?\n\nYou can send it directly to:\n‚Ä¢ brgonzalez@uagm.edu\n\nCareer Services can help you with:\n‚Ä¢ Resume review and improvements\n‚Ä¢ Job opportunities\n‚Ä¢ Interview tips\n‚Ä¢ Professional networking\n\nDon't hesitate to contact us!`;
    
    alert(message);
    
    setTimeout(() => {
        showSuccessAndSurvey('Word');
    }, 500);
}

function openProfessionalCoverLetter() {
    updateProfessionalLetterTexts();
    fillResumeDataToLetter();
    updateLetterPreview();
    document.getElementById('professional-letter-modal').style.display = 'flex';
}

function closeProfessionalLetter() {
    document.getElementById('professional-letter-modal').style.display = 'none';
}

function toggleResumeData() {
    const useData = document.getElementById('use-resume-data').checked;
    if (useData) {
        fillResumeDataToLetter();
    }
    updateLetterPreview();
}

function fillResumeDataToLetter() {
    const useData = document.getElementById('use-resume-data').checked;
    
    if (useData) {
        document.getElementById('sender-name').value = document.getElementById('name').value || '';
        document.getElementById('sender-address').value = document.getElementById('location').value || '';
        // El tel√©fono ya viene formateado del resum√©
        document.getElementById('sender-phone').value = document.getElementById('phone').value || '';
        document.getElementById('sender-email').value = document.getElementById('email').value || '';
    }
    updateLetterPreview();
}

function updateProfessionalLetterTexts() {
    if (currentLang === 'es') {
        document.getElementById('prof-letter-title').textContent = 'üìù Carta de Presentaci√≥n Profesional';
        document.getElementById('prof-letter-subtitle').textContent = 'Formato basado en est√°ndares profesionales';
        document.getElementById('sender-info-title').textContent = 'Tu Informaci√≥n';
        document.getElementById('use-resume-label').textContent = 'Usar datos del resum√©';
        document.getElementById('sender-name-label').textContent = 'Nombre Completo:';
        document.getElementById('sender-address-label').textContent = 'Direcci√≥n:';
        document.getElementById('sender-phone-label').textContent = 'Tel√©fono:';
        document.getElementById('sender-email-label').textContent = 'Email:';
        document.getElementById('company-info-title').textContent = 'Informaci√≥n de la Empresa';
        document.getElementById('company-name-label').textContent = 'Nombre de la Empresa:';
        document.getElementById('company-address-label').textContent = 'Direcci√≥n de la Empresa:';
        document.getElementById('department-label').textContent = 'Departamento/√Årea:';
        document.getElementById('position-info-title').textContent = 'Informaci√≥n del Puesto';
        document.getElementById('position-title-label').textContent = 'T√≠tulo del Puesto:';
        document.getElementById('job-source-label').textContent = 'Donde viste la oferta:';
        document.getElementById('content-title').textContent = 'Contenido Personalizado';
        document.getElementById('expertise-area-label').textContent = 'Tu √°rea de expertise:';
        document.getElementById('additional-info-label').textContent = 'Informaci√≥n adicional (opcional):';
        document.getElementById('prof-download-pdf').textContent = 'üìÑ Descargar PDF';
        document.getElementById('prof-download-word').textContent = 'üìÑ Descargar Word';
        document.getElementById('prof-close').textContent = 'Cerrar';
    }
}

function updateLetterPreview() {
    const senderName = document.getElementById('sender-name').value || '[Tu Nombre]';
    const senderAddress = document.getElementById('sender-address').value || '[Tu Direcci√≥n]';
    const senderPhone = document.getElementById('sender-phone').value || '[Tu Tel√©fono]';
    const senderEmail = document.getElementById('sender-email').value || '[Tu Email]';
    
    const companyName = document.getElementById('company-name').value || '[Nombre de la Empresa]';
    const companyAddress = document.getElementById('company-address').value || '[Direcci√≥n de la Empresa]';
    const department = document.getElementById('department').value || '[Departamento]';
    
    const positionTitle = document.getElementById('position-title').value || '[T√≠tulo del Puesto]';
    const jobSource = document.getElementById('job-source').value || '[donde viste la oferta]';
    const expertiseArea = document.getElementById('expertise-area').value || '[tu √°rea de expertise]';
    const additionalInfo = document.getElementById('additional-info').value || '';
    
    // Fecha actual
    const today = new Date();
    const dateString = today.toLocaleDateString('es-ES', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
    
    // Generar contenido de la carta basado en tu formato
    const letterHTML = `
        <div style="margin-bottom: 30px;">
            <div style="font-weight: bold; font-size: 14pt; margin-bottom: 5px;">${senderName}</div>
            <div style="margin-bottom: 3px;">${senderAddress}</div>
            <div style="margin-bottom: 3px;">${senderPhone}</div>
            <div style="margin-bottom: 20px;">${senderEmail}</div>
        </div>

        <div style="margin-bottom: 30px;">
            <div style="margin-bottom: 20px;">${dateString}</div>
        </div>

        <div style="margin-bottom: 30px;">
            <div style="font-weight: bold; margin-bottom: 5px;">${companyName}</div>
            <div style="white-space: pre-line; margin-bottom: 15px;">${companyAddress}</div>
            <div style="margin-bottom: 20px;"><strong>${department}:</strong></div>
        </div>

        <div style="margin-bottom: 20px;">
            Con referencia al puesto de <strong>${positionTitle}</strong>, publicado en ${jobSource}; adjunto para su consideraci√≥n mi resum√© con las habilidades y experiencias que se relacionan con el puesto.
        </div>

        <div style="margin-bottom: 20px;">
            Considero que mi preparaci√≥n profesional, as√≠ como mi desarrollo en el √°rea de ${expertiseArea} me capacita como candidato id√≥neo para realizar con eficiencia las responsabilidades que conlleva la posici√≥n solicitada. Estoy interesado(a) en formar parte de su organizaci√≥n para contribuir al logro de objetivos que redunden en el crecimiento de la empresa.
        </div>

        ${additionalInfo ? `<div style="margin-bottom: 20px;">${additionalInfo}</div>` : ''}

        <div style="margin-bottom: 20px;">
            Agradecer√≠a la oportunidad de entrevistarme, para ampliar la informaci√≥n que estime necesaria.
        </div>

        <div style="margin-bottom: 40px;">
            Gracias por la atenci√≥n prestada.
        </div>

        <div>
            <div style="margin-bottom: 40px;">Atentamente,</div>
            <div style="font-weight: bold;">${senderName}</div>
        </div>
    `;
    
    document.getElementById('letter-preview').innerHTML = letterHTML;
}

function downloadProfessionalLetter(format) {
    // Validar que hay contenido
    const senderName = document.getElementById('sender-name').value;
    const companyName = document.getElementById('company-name').value;
    
    if (!senderName || !companyName) {
        alert(currentLang === 'es' ? 
            'Por favor completa al menos tu nombre y el nombre de la empresa.' : 
            'Please fill in at least your name and company name.');
        return;
    }
    
    const filename = `${senderName.replace(/\s+/g, '_')}_carta_presentacion`;
    
    if (format === 'pdf') {
        downloadLetterAsPDF(filename);
    } else {
        downloadLetterAsWord(filename);
    }
    
    // Mostrar mensaje sobre env√≠o a oficina de carreras
    setTimeout(() => {
        const message = currentLang === 'es' 
            ? `‚úÖ ¬°Tu carta de presentaci√≥n est√° lista!\n\nüìß ¬øTe interesa enviar tu carta junto con tu resum√© a la Oficina de Carreras y Colocaciones?\n\nPuedes enviarlos a:\nbrgonzalez@uagm.edu\n\n¬°Te pueden ayudar a mejorar ambos documentos!`
            : `‚úÖ Your cover letter is ready!\n\nüìß Would you like to send your letter along with your resume to the Career Services Office?\n\nYou can send them to:\nbrgonzalez@uagm.edu\n\nThey can help you improve both documents!`;
        
        alert(message);
    }, 1000);
}

function downloadLetterAsPDF(filename) {
    try {
        const { jsPDF } = window.jspdf;
        const letterContent = document.getElementById('letter-preview');
        
        const pdf = new jsPDF('portrait', 'mm', 'a4');
        pdf.setFont('times', 'normal');
        pdf.setFontSize(12);
        
        // Obtener el texto plano de la carta
        const textContent = letterContent.innerText || letterContent.textContent;
        const lines = textContent.split('\n').filter(line => line.trim() !== '');
        
        let yPosition = 20;
        const lineHeight = 6;
        const pageHeight = 280;
        
        lines.forEach((line, index) => {
            if (yPosition > pageHeight) {
                pdf.addPage();
                yPosition = 20;
            }
            
            const wrappedLines = pdf.splitTextToSize(line, 170);
            pdf.text(wrappedLines, 20, yPosition);
            yPosition += wrappedLines.length * lineHeight + 3;
        });
        
        pdf.save(`${filename}.pdf`);
        alert(currentLang === 'es' ? '¬°Carta PDF descargada exitosamente!' : 'PDF letter downloaded successfully!');
        
    } catch (error) {
        console.error('Error generating PDF:', error);
        alert(currentLang === 'es' ? 'Error al generar PDF' : 'Error generating PDF');
    }
}

function downloadLetterAsWord(filename) {
    try {
        const letterContent = document.getElementById('letter-preview');
        const textContent = letterContent.innerText || letterContent.textContent;
        
        const html = `
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word">
            <head>
                <meta charset="utf-8">
                <title>Carta de Presentaci√≥n</title>
                <style>
                    body { 
                        font-family: 'Times New Roman', serif; 
                        font-size: 12pt; 
                        line-height: 1.6; 
                        margin: 40px;
                        color: #000;
                    }
                </style>
            </head>
            <body>
                <div style="white-space: pre-line;">${textContent}</div>
            </body>
            </html>
        `;
        
        const blob = new Blob(['\ufeff', html], { type: 'application/msword' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `${filename}.doc`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        alert(currentLang === 'es' ? '¬°Carta Word descargada exitosamente!' : 'Word letter downloaded successfully!');
        
    } catch (error) {
        console.error('Error generating Word:', error);
        alert(currentLang === 'es' ? 'Error al generar Word' : 'Error generating Word');
    }
}

// Funci√≥n para guardar en Portal UAGM
async function saveToUAGMPortal() {
    // Validar que hay contenido m√≠nimo
    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    
    if (!name || !email) {
        alert(currentLang === 'es' 
            ? 'Por favor completa al menos tu nombre y email antes de guardar.' 
            : 'Please fill in at least your name and email before saving.');
        return;
    }
    
    if (!isFirebaseInitialized) {
        alert(currentLang === 'es' 
            ? 'Firebase no est√° disponible. Por favor intenta m√°s tarde.' 
            : 'Firebase is not available. Please try again later.');
        return;
    }
    
    try {
        // Generar PDF del resum√©
        const { jsPDF } = window.jspdf;
        const element = document.getElementById('resume-preview');
        
        // Crear canvas del resum√©
const canvas = await html2canvas(element, {
    scale: 3,
    useCORS: true,
    backgroundColor: '#ffffff',
    height: element.scrollHeight,
    windowWidth: element.scrollWidth,
    allowTaint: true,
    removeContainer: true,
    imageTimeout: 0,
    onclone: function(clonedDoc) {
        const clonedElement = clonedDoc.getElementById('resume-preview');
        if (clonedElement) {
            clonedElement.style.width = '800px';
            clonedElement.style.padding = '40px';
            clonedElement.style.boxSizing = 'border-box';
            clonedElement.style.fontSize = '14px';
            clonedElement.style.lineHeight = '1.4';
            
            // Fix para Stockholm Pro grid layout
            if (clonedElement.classList.contains('template-stockholm-pro')) {
                clonedElement.style.display = 'grid';
                clonedElement.style.gridTemplateColumns = '220px 1fr';
                clonedElement.style.gap = '0';
                
                const leftCol = clonedElement.querySelector('.left-column');
                const rightCol = clonedElement.querySelector('.right-column');
                
                if (leftCol) {
                    leftCol.style.gridColumn = '1';
                    leftCol.style.gridRow = '3';
                    leftCol.style.background = '#F9FAFB';
                    leftCol.style.padding = '0 25px 50px 25px';
                    leftCol.style.borderRight = '1px solid #E5E7EB';
                }
                
                if (rightCol) {
                    rightCol.style.gridColumn = '2';
                    rightCol.style.gridRow = '3';
                    rightCol.style.padding = '0 50px 50px 40px';
                    rightCol.style.background = 'white';
                }
                
                const summary = clonedElement.querySelector('.resume-summary');
                if (summary) {
                    summary.style.gridColumn = '1 / -1';
                    summary.style.padding = '0 50px 35px 50px';
                    summary.style.textAlign = 'center';
                    
                    const summaryH3 = summary.querySelector('h3');
                    if (summaryH3) {
                        summaryH3.style.display = 'inline-block';
                        summaryH3.style.textAlign = 'center';
                    }
                    
                    const summaryP = summary.querySelector('p');
                    if (summaryP) {
                        summaryP.style.textAlign = 'center';
                        summaryP.style.maxWidth = '700px';
                        summaryP.style.margin = '0 auto';
                    }
                }
                
                const header = clonedElement.querySelector('.resume-header');
                if (header) {
                    header.style.gridColumn = '1 / -1';
                    header.style.padding = '50px 50px 30px 50px';
                }
            }
            
            // Prevenir que elementos se corten
            const sections = clonedElement.querySelectorAll('.resume-section, .experience-item, .education-item');
            sections.forEach(section => {
                section.style.breakInside = 'avoid';
                section.style.pageBreakInside = 'avoid';
            });
            
            const paragraphs = clonedElement.querySelectorAll('p, .job-title, .degree-title, .company-info, .institution-info');
            paragraphs.forEach(p => {
                p.style.breakInside = 'avoid';
                p.style.pageBreakInside = 'avoid';
                p.style.wordBreak = 'keep-all';
                p.style.hyphens = 'none';
            });
        }
    }
});
        
        const imgData = canvas.toDataURL('image/png', 1.0);
        
        // Crear PDF
        const pdf = new jsPDF('portrait', 'mm', 'a4');
        const pdfWidth = 210;
        const pdfHeight = 297;
        const margin = 10;
        const contentWidth = pdfWidth - (margin * 2);
        const imgWidth = contentWidth;
        const imgHeight = (canvas.height * imgWidth) / canvas.width;
        
        pdf.addImage(imgData, 'PNG', margin, margin, imgWidth, Math.min(imgHeight, pdfHeight - margin * 2));
        
        // Convertir PDF a blob
        const pdfBlob = pdf.output('blob');
        
        // Subir PDF a Firebase Storage
        const fileName = `resume_${name.replace(/\s+/g, '_')}_${Date.now()}.pdf`;
        const storageRef = storage.ref(`resume-builder/${fileName}`);
        const uploadTask = await storageRef.put(pdfBlob);
        const downloadURL = await uploadTask.ref.getDownloadURL();
        
        // Preparar datos para Firestore
        const resumeData = {
            id: Date.now().toString(),
            name: name,
            email: email,
            studentId: document.getElementById('phone').value || '', // Usamos phone como campo extra
            resumePDF: downloadURL,
            resumeFileName: fileName,
            createdAt: new Date().toISOString(),
            source: 'resume-builder'
        };
        
        // Guardar en Firestore
        await db.collection('resumeBuilder').add(resumeData);
        
        // Mostrar √©xito
        alert(currentLang === 'es' 
            ? '¬°Resum√© guardado exitosamente en el Portal UAGM!\n\nLos administradores podr√°n ver tu resum√© en el dashboard.' 
            : 'Resume successfully saved to UAGM Portal!\n\nAdministrators will be able to see your resume in the dashboard.');
        
        console.log('Resum√© guardado en Portal UAGM:', resumeData);
        
    } catch (error) {
        console.error('Error guardando en Portal UAGM:', error);
        alert(currentLang === 'es' 
            ? 'Error al guardar en el Portal. Por favor intenta de nuevo.' 
            : 'Error saving to Portal. Please try again.');
    }
}

</script>

<!-- Modal de Carta de Presentaci√≥n Profesional -->
<div id="professional-letter-modal" class="professional-letter-modal">
    <div class="professional-letter-content">
        <div class="letter-header">
            <h2 id="prof-letter-title">üìù Carta de Presentaci√≥n Profesional</h2>
            <p id="prof-letter-subtitle">Formato basado en est√°ndares profesionales</p>
        </div>

        <div class="letter-form-section">
            <h3 class="section-title" id="sender-info-title">Tu Informaci√≥n</h3>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="use-resume-data" checked onchange="toggleResumeData()">
                    <span id="use-resume-label">Usar datos del resum√©</span>
                </label>
            </div>
            
            <div class="form-group">
                <label id="sender-name-label">Nombre Completo:</label>
                <input type="text" id="sender-name" oninput="updateLetterPreview()">
            </div>
            
            <div class="form-group">
                <label id="sender-address-label">Direcci√≥n:</label>
                <input type="text" id="sender-address" oninput="updateLetterPreview()">
            </div>
            
            <div class="form-group">
    <label id="sender-phone-label">Tel√©fono:</label>
    <input type="tel" id="sender-phone" placeholder="(787) 123-4567" oninput="formatPhoneNumber(this)" maxlength="14">
</div>
            
            <div class="form-group">
                <label id="sender-email-label">Email:</label>
                <input type="email" id="sender-email" oninput="updateLetterPreview()">
            </div>

            <h3 class="section-title" id="company-info-title">Informaci√≥n de la Empresa</h3>
            
            <div class="form-group">
                <label id="company-name-label">Nombre de la Empresa:</label>
                <input type="text" id="company-name" placeholder="Universidad Ana G. M√©ndez" oninput="updateLetterPreview()">
            </div>
            
            <div class="form-group">
                <label id="company-address-label">Direcci√≥n de la Empresa:</label>
                <textarea id="company-address" rows="3" placeholder="Carretera 176&#10;Avenida Ana G. M√©ndez&#10;Km 0.3, San Juan, P.R. 00928" oninput="updateLetterPreview()"></textarea>
            </div>
            
            <div class="form-group">
                <label id="department-label">Departamento/√Årea:</label>
                <input type="text" id="department" placeholder="Oficina de Recursos Humanos" oninput="updateLetterPreview()">
            </div>

            <h3 class="section-title" id="position-info-title">Informaci√≥n del Puesto</h3>
            
            <div class="form-group">
                <label id="position-title-label">T√≠tulo del Puesto:</label>
                <input type="text" id="position-title" placeholder="Director(a) Asociado(a) de Colocaciones" oninput="updateLetterPreview()">
            </div>
            
            <div class="form-group">
                <label id="job-source-label">Donde viste la oferta:</label>
                <input type="text" id="job-source" placeholder="p√°gina web de su instituci√≥n" oninput="updateLetterPreview()">
            </div>

            <h3 class="section-title" id="content-title">Contenido Personalizado</h3>
            
            <div class="form-group">
                <label id="expertise-area-label">Tu √°rea de expertise:</label>
                <input type="text" id="expertise-area" placeholder="reclutamiento, colocaciones y asuntos acad√©micos" oninput="updateLetterPreview()">
            </div>
            
            <div class="form-group">
                <label id="additional-info-label">Informaci√≥n adicional (opcional):</label>
                <textarea id="additional-info" rows="3" placeholder="Cualquier informaci√≥n extra que quieras agregar..." oninput="updateLetterPreview()"></textarea>
            </div>
        </div>

        <div class="letter-preview-section">
            <div class="letter-preview-content" id="letter-preview">
                <!-- El contenido se genera din√°micamente -->
            </div>
        </div>

        <div class="letter-buttons">
            <button class="btn btn-primary" onclick="downloadProfessionalLetter('pdf')" id="prof-download-pdf">üìÑ Descargar PDF</button>
            <button class="btn btn-primary" onclick="downloadProfessionalLetter('word')" id="prof-download-word">üìÑ Descargar Word</button>
            <button class="btn" onclick="closeProfessionalLetter()" id="prof-close">Cerrar</button>
        </div>
    </div>
</div>

<div id="exit-modal" class="email-modal" style="display: none;">
    <div class="email-modal-content" style="max-width: 400px; text-align: center;">
        <div class="email-modal-header">
            <h3 id="exit-modal-title">¬°Gracias por usar UAGM Resume Builder!</h3>
        </div>
        <div class="email-modal-body">
            <img src="logo blanco.png" alt="UAGM Logo" style="height: 80px; margin-bottom: 20px; filter: invert(1);">
            <p style="margin-bottom: 20px; color: #4a5568;">Universidad Ana G. M√©ndez<br>Oficina de Carreras y Colocaciones</p>
            <p style="margin-bottom: 20px; font-size: 14px; color: #718096;">Esperamos que tu resum√© te ayude a conseguir el trabajo deseado.</p>
            <div class="email-modal-buttons">
                <button class="btn btn-primary" onclick="closeApplication()">Cerrar Aplicaci√≥n</button>
                <button class="btn" onclick="closeExitModal()">Continuar</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Encuesta de Satisfacci√≥n -->
<div id="survey-modal" class="survey-modal" style="display: none;">
    <div class="survey-modal-content">
        <div class="survey-modal-header">
            <h3 id="survey-title">üìù Encuesta de Satisfacci√≥n</h3>
            <p id="survey-subtitle">Tu opini√≥n nos ayuda a mejorar</p>
        </div>
        <div class="survey-modal-body">
            <!-- Pregunta 1 -->
            <div class="survey-question">
                <h4 id="survey-q1">¬øQu√© tan satisfecho est√°s en c√≥mo esta aplicaci√≥n prepar√≥ tu resum√©?</h4>
                <div class="satisfaction-options">
                    <label class="satisfaction-option">
                        <input type="radio" name="q1-satisfaction" value="muy-satisfecho">
                        <span id="q1-muy">Muy Satisfecho</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q1-satisfaction" value="satisfecho">
                        <span id="q1-satisfecho">Satisfecho</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q1-satisfaction" value="neutral">
                        <span id="q1-neutral">Neutral</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q1-satisfaction" value="poco-satisfecho">
                        <span id="q1-poco">Poco Satisfecho</span>
                    </label>
                </div>
            </div>

            <!-- Pregunta 2 -->
            <div class="survey-question">
                <h4 id="survey-q2">¬øQu√© tan efectiva consideras esta herramienta como apoyo de la universidad para tu inserci√≥n laboral?</h4>
                <div class="satisfaction-options">
                    <label class="satisfaction-option">
                        <input type="radio" name="q2-effectiveness" value="muy-satisfecho">
                        <span id="q2-muy">Muy Satisfecho</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q2-effectiveness" value="satisfecho">
                        <span id="q2-satisfecho">Satisfecho</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q2-effectiveness" value="neutral">
                        <span id="q2-neutral">Neutral</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q2-effectiveness" value="poco-satisfecho">
                        <span id="q2-poco">Poco Satisfecho</span>
                    </label>
                </div>
            </div>

            <!-- Pregunta 3 -->
            <div class="survey-question">
                <h4 id="survey-q3">¬øQu√© tan √∫til fue esta aplicaci√≥n para superar dificultades en la creaci√≥n de tu resum√© profesional?</h4>
                <div class="satisfaction-options">
                    <label class="satisfaction-option">
                        <input type="radio" name="q3-usefulness" value="muy-satisfecho">
                        <span id="q3-muy">Muy Satisfecho</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q3-usefulness" value="satisfecho">
                        <span id="q3-satisfecho">Satisfecho</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q3-usefulness" value="neutral">
                        <span id="q3-neutral">Neutral</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q3-usefulness" value="poco-satisfecho">
                        <span id="q3-poco">Poco Satisfecho</span>
                    </label>
                </div>
            </div>

            <!-- Pregunta 4 -->
            <div class="survey-question">
                <h4 id="survey-q4">¬øQu√© tan satisfecho est√°s con la facilidad de uso de la aplicaci√≥n?</h4>
                <div class="satisfaction-options">
                    <label class="satisfaction-option">
                        <input type="radio" name="q4-usability" value="muy-satisfecho">
                        <span id="q4-muy">Muy Satisfecho</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q4-usability" value="satisfecho">
                        <span id="q4-satisfecho">Satisfecho</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q4-usability" value="neutral">
                        <span id="q4-neutral">Neutral</span>
                    </label>
                    <label class="satisfaction-option">
                        <input type="radio" name="q4-usability" value="poco-satisfecho">
                        <span id="q4-poco">Poco Satisfecho</span>
                    </label>
                </div>
            </div>

            <!-- Pregunta 5: Comentarios -->
            <div class="survey-question">
                <h4 id="survey-q5">Comentarios adicionales o sugerencias:</h4>
                <textarea id="survey-comments" rows="4" style="width: 100%; padding: 10px; border: 2px solid #e2e8f0; border-radius: 5px; resize: vertical;" placeholder="Escribe tus comentarios aqu√≠..."></textarea>
            </div>

            <div class="survey-buttons">
                <button class="btn btn-primary" id="survey-submit-btn" onclick="submitSurveyAndExit()">Enviar Encuesta y Salir</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>
